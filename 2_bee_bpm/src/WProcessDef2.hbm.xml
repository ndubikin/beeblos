<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- Generated May 21, 2012 10:49:10 AM by Hibernate Tools 3.4.0.CR1 -->
<hibernate-mapping>

	<class name="org.beeblos.bpm.core.model.WProcessHead" table="w_process_head">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<one-to-one name="managedTableConfiguration"
			class="org.beeblos.bpm.core.model.WProcessHeadManagedDataConfiguration"
			cascade="save-update">
		</one-to-one>
		<set name="processDataFieldDef" table="w_process_head_data_field"
			lazy="false" fetch="join" cascade="all">
			<key>
				<column name="process_head_id" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WProcessDataField" />
		</set>

		<set name="externalMethod" table="w_process_head_method" lazy="false"
			fetch="join" cascade="all">
			<key>
				<column name="process_head_id" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WExternalMethod" />
		</set>

	</class>

	<class name="org.beeblos.bpm.core.model.noper.WProcessHeadLight"
		table="w_process_head">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
	</class>

	<class
		name="org.beeblos.bpm.core.model.WProcessHeadManagedDataConfiguration"
		table="w_process_head_managed_data">
		<id name="headId" type="java.lang.Integer">
			<column name="head_id" />
			<generator class="assigned" />
		</id>

		<property name="name" type="string">
			<column name="name" not-null="true" />
		</property>
		<property name="ignoreCase" type="java.lang.Boolean">
			<column name="ignore_case" sql-type="bit" />
		</property>
		<property name="schema" type="string">
			<column name="schema_" not-null="true" />
		</property>
		<property name="catalog" type="string">
			<column name="catalog" not-null="true" />
		</property>
		<property name="comment" type="string">
			<column name="comment" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="modDate" 	
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" not-null="true" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WExternalMethod" table="w_process_head_method">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<many-to-one name="processHead"
			class="org.beeblos.bpm.core.model.noper.WProcessHeadLight" lazy="false" fetch="join">
			<column name="process_head_id" />
		</many-to-one>
		<property name="classname" type="string">
			<column name="classname">
				<comment>for APP synchro: class name to execute</comment>
			</column>
		</property>
		<property name="methodname" type="string">
			<column name="methodname">
				<comment>for APP synchro: method name to execute to get info from
					external source</comment>
			</column>
		</property>
		<property name="type" type="string">
			<column name="type">
				<comment>P = put method executes and receives 1 parameter response -
					G = get method executes and receive 1 loaded object as response</comment>
			</column>
		</property>
		<property name="paramlistName"
			type="com.sp.common.model.usertype.StringArrayUserType">
			<column name="paramlist_name">
				<comment>for APP synchro: parameter list to send</comment>
			</column>
		</property>
		<property name="paramlistType"
			type="com.sp.common.model.usertype.ClassArrayUserType">
			<column name="paramlist_type">
				<comment>for APP synchro: parameter list types (java types)</comment>
			</column>
		</property>
		<property name="atProcessStartup" type="java.lang.Boolean">
			<column name="at_process_startup" sql-type="bit">
				<comment>synchronize time: at process startup must synchronize
					getting data from source</comment>
			</column>
		</property>
		<property name="atProcessEnd" type="java.lang.Boolean">
			<column name="at_process_end" sql-type="bit">
				<comment>synchronize time: at process ends must synchronize putting
					data to source</comment>
			</column>
		</property>
		<property name="whenStepWorkIsInvoked" type="java.lang.Boolean">
			<column name="when_step_work_is_invoked" sql-type="bit">
				<comment>synchronize time: with each new step uploaded must
					synchronize getting data from source</comment>
			</column>
		</property>
		<property name="whenStepWorkIsProcessed" type="java.lang.Boolean">
			<column name="when_step_work_is_processed" sql-type="bit">
				<comment>synchronize time: with each new step processed must
					synchronize putting data to source</comment>
			</column>
		</property>
		<property name="logicalConditionExecution" type="string">
			<column name="logicalConditionExecution">
				<comment>logical condition valid form bee-bpm execution environment.
					If true then executes de method</comment>
			</column>
		</property>
		<property name="tested" type="string">
			<column name="tested">
				<comment>for check environment existence of class/method purposes</comment>
			</column>
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="modDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" />
		</property>

	</class>

	<class name="org.beeblos.bpm.core.model.WProcessDef" table="w_process_def">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="version"
			type="java.lang.Integer">
			<column name="version" />
		</property>

		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>

		<property name="productionDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="production_date" />
		</property>

		<property name="productionUser" type="java.lang.Integer">
			<column name="production_user" />
		</property>

		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="idListZone"
			type="string">
			<column name="id_list_zone">
				<comment>Default:La lista del step processor que se asocia a este
					paso.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idWorkZone"
			type="string">
			<column name="id_work_zone">
				<comment>Default:La pagina que contiene el trabajo a realizar del
					step processor.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAdditionalZone"
			type="string">
			<column name="id_additional_zone">
				<comment>Default:La pagina que contiene la informacion adicional
					para el step processor.</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="idProcessorStep"
			type="string">
			<column name="id_processor_step" />
		</property>

		<property generated="never" lazy="false" name="adminEmail"
			type="string">
			<column name="admin_email" />
		</property>

		<property name="totalTime" type="java.lang.Integer">
			<column name="total_time" />
		</property>

		<property name="globalDeadlineDate" type="java.lang.String">
			<column name="global_deadline_date" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>

		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>

		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>

		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<property name="processMap" type="text">
			<column name="process_map" />
		</property>

		<set name="systemObject" cascade="save-update" lazy="false" fetch="join"
			table="w_process_system_object">
			<key column="process_id" />
			<many-to-many class="com.sp.common.core.model.SystemObject"
				fetch="join" column="system_object_id" />
		</set>

		<many-to-one cascade="save-update"
			class="org.beeblos.bpm.core.model.WProcessHead" column="head_id"
			name="process" fetch="join" lazy="false" />

		<many-to-one cascade="none" class="org.beeblos.bpm.core.model.WStepDef"
			column="id_begin" name="beginStep" fetch="join" lazy="false" />

		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" fetch="join" name="totalTimeUnit">
			<column name="total_time_unit" />
		</many-to-one>

		<many-to-one class="org.beeblos.bpm.core.model.WEmailAccount"
			lazy="false" fetch="join" name="systemEmailAccount">
			<column name="id_system_email" />
		</many-to-one>

		<!-- dml 20120306 (dml 20141126 pasado a EmailTemplate) -->
		<many-to-one class="com.sp.common.core.model.EmailTemplate"
			lazy="false" fetch="join" name="arrivingAdminNoticeTemplate">
			<column name="id_arriving_admin_notice_template" />
		</many-to-one>

		<!-- dml 20120306 (dml 20141126 pasado a EmailTemplate) -->
		<many-to-one class="com.sp.common.core.model.EmailTemplate"
			lazy="false" fetch="join" name="arrivingUserNoticeTemplate">
			<column name="id_arriving_user_notice_template" />
		</many-to-one>

		<set name="steps" table="w_process_step_def" cascade="delete-orphan" fetch="join" lazy="false">
			<key column="id_process" />
			<many-to-many class="org.beeblos.bpm.core.model.WStepDef" column="id_step" 
				unique="false" lazy="false" fetch="join"/>
		</set>

		<set name="rolesRelated" table="w_process_role" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_process" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WProcessRole" />
		</set>
		
<!-- dml 20141030 - comentado resolver roles 
		<set cascade="all" name="rolesRelated" sort="unsorted" table="w_process_role"
			lazy="false" fetch="join">
			<key column="id_process" />
			<composite-element class="org.beeblos.bpm.core.model.WProcessRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" cascade="save-update" lazy="false" fetch="join" />
				<property name="admin" type="java.lang.Boolean">
					<column name="admin" sql-type="bit">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
				<property name="idObject" type="java.lang.Integer">
					<column name="id_object" />
				</property>
				<property name="idObjectType" type="java.lang.String">
					<column name="id_object_type" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->

		<set name="usersRelated" table="w_process_role" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_process" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WProcessUser" />
		</set>


<!-- dml 20141030 - comentado resolver roles 
		<set cascade="all" name="usersRelated" sort="unsorted" table="w_process_user"
			lazy="false" fetch="join">
			<key column="id_process" />
			<composite-element class="org.beeblos.bpm.core.model.WProcessUser">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" cascade="save-update" lazy="false" fetch="join" />
				<property name="admin" type="java.lang.Boolean">
					<column name="admin" sql-type="bit">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
				<property name="idObject" type="java.lang.Integer">
					<column name="id_object" />
				</property>
				<property name="idObjectType" type="java.lang.String">
					<column name="id_object_type" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->

		<property generated="never" lazy="false" name="xmlSymbolsString"
			type="string">
			<column name="xml_symbols" sql-type="text" />
		</property>

		<property generated="never" lazy="false" name="xmlLayersString"
			type="string">
			<column name="xml_layers" sql-type="text" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WProcessRole"
		table="w_process_role">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		
		<property name="idProcess" type="java.lang.Integer">
			<column name="id_process" />
		</property>

		<property name="admin" type="java.lang.Boolean">
			<column name="admin" sql-type="bit">
				<comment>indicates if this role is an admin role for this process</comment>
			</column>
		</property>
		<property name="idObject" type="java.lang.Integer">
			<column name="id_object" />
		</property>
		<property name="idObjectType" type="java.lang.String">
			<column name="id_object_type" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.WRoleDef"
			lazy="false" fetch="join" name="role">
			<column name="id_role" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.WProcessUser"
		table="w_process_user">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		
		<property name="idProcess" type="java.lang.Integer">
			<column name="id_process" />
		</property>

		<property name="admin" type="java.lang.Boolean">
			<column name="admin" sql-type="bit">
				<comment>indicates if this user is an admin user for this process</comment>
			</column>
		</property>
		<property name="idObject" type="java.lang.Integer">
			<column name="id_object" />
		</property>
		<property name="idObjectType" type="java.lang.String">
			<column name="id_object_type" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			lazy="false" fetch="join" name="user">
			<column name="id_user" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.noper.WProcessDefThin"
		table="w_process_def">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>

		<property generated="never" lazy="false" name="version"
			type="java.lang.Integer">
			<column name="version" />
		</property>

		<property name="productionDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="production_date" />
		</property>

		<property name="productionUser" type="java.lang.Integer">
			<column name="production_user" />
		</property>

		<property name="comments" generated="never" lazy="false"
			type="string">
			<column name="comments" />
		</property>

		<property name="listZoneId" generated="never" lazy="false"
			type="string">
			<column name="id_list_zone">
				<comment>Default:La lista del step processor que se asocia a este
					paso.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="workZoneId"
			type="string">
			<column name="id_work_zone">
				<comment>Default:La pagina que contiene el trabajo a realizar del
					step processor.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="additionalZoneId"
			type="string">
			<column name="id_additional_zone">
				<comment>Default:La pagina que contiene la informacion adicional
					para el step processor.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="processorStepId"
			type="string">
			<column name="id_processor_step" />
		</property>
		<property generated="never" lazy="false" name="adminEmail"
			type="string">
			<column name="admin_email" />
		</property>
		<property name="totalTime" type="java.lang.Integer">
			<column name="total_time" />
		</property>
		<property name="globalDeadlineDate" type="java.lang.String">
			<column name="global_deadline_date" />
		</property>
		<property name="beginStepId" type="java.lang.Integer">
			<column name="id_begin" />
		</property>

		<many-to-one cascade="save-update"
			class="org.beeblos.bpm.core.model.WProcessHead" column="head_id"
			name="processHead" fetch="join" lazy="false" />

		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" fetch="join" name="totalTimeUnit">
			<column name="total_time_unit" />
		</many-to-one>

		<many-to-one class="org.beeblos.bpm.core.model.WEmailAccount"
			lazy="false" fetch="join" name="systemEmailAccount">
			<column name="id_system_email" />
		</many-to-one>

		<!-- dml 20120306 -->
		<many-to-one class="com.sp.common.core.model.EmailTemplate"
			lazy="false" fetch="join" name="arrivingAdminNoticeTemplate">
			<column name="id_arriving_admin_notice_template" />
		</many-to-one>

		<!-- dml 20120306 -->
		<many-to-one class="com.sp.common.core.model.EmailTemplate"
			lazy="false" fetch="join" name="arrivingUserNoticeTemplate">
			<column name="id_arriving_user_notice_template" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.WStepTypeDef" table="w_step_type_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="type" type="string">
			<column name="type" />
		</property>
		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>
		<property name="engineReq" type="java.lang.Boolean">
			<column name="engine_req" sql-type="bit" />
		</property>
		<property name="deleted" type="java.lang.Boolean">
			<column name="deleted" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="comments" type="string">
			<column name="comments" />
		</property>
		
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property name="allowedResponses" type="java.lang.Boolean">
			<column name="allowed_responses" sql-type="bit" />
		</property>
	</class>

	<!--  atencion hay named queries al final que afectan a roledef -->
	<class name="org.beeblos.bpm.core.model.WRoleDef" table="w_role_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property name="systemRole" type="java.lang.Boolean">
			<column name="system_role" sql-type="bit" />
		</property>
		<property name="runtimeRole" type="java.lang.Boolean">
			<column name="runtime_role" sql-type="bit" >
				<comment>indicate the role will be associated with users at runtime / related at wProcessWork level</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idExternalMethod"
			type="java.lang.Integer">
			<column name="id_external_method">
				<comment>metodo que debe devovler la lista de user id para cargar el runtime role array[int]</comment>
			</column>
		</property>	
		<property generated="never" lazy="false" name="description"
			type="string">
			<column name="description" />
		</property>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object">
				<comment>Deje por las dudas para relacionar roles con objetos</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column name="id_object_type" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<set name="usersRelated" table="w_user_role" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_role" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WUserRole" />
		</set>

<!-- dml 20141030 - comentado resolver roles 
		<set cascade="all" name="usersRelated" sort="unsorted" table="w_user_role"
			lazy="false" fetch="join">
			<key column="id_role" />
			<composite-element class="org.beeblos.bpm.core.model.WUserRole">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" cascade="none" lazy="false" fetch="join" />
				<property name="active" type="java.lang.Boolean">
					<column name="active" sql-type="bit" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" 
					type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->
	</class>
	
	<!-- para gestionar los usuarios de los runtime roles que se asignan siempre a un process work  -->
	<class name="org.beeblos.bpm.core.model.WUserRoleWork" table="w_user_role_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="idUser"	type="java.lang.Integer">
			<column name="id_user">
			</column>
		</property>			

		<property generated="never" lazy="false" name="idRole"	type="java.lang.Integer">
			<column name="id_role">
			</column>
		</property>			

		<property generated="never" lazy="false" name="idProcessWork"	type="java.lang.Integer">
			<column name="id_process_work">
			</column>
		</property>			

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

	</class>		

	<class name="org.beeblos.bpm.core.model.WStepDataField" table="w_step_data_field">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property name="stepHeadId" type="java.lang.Integer">
			<column name="step_head_id" />
		</property>
		<property name="processHeadId" type="java.lang.Integer">
			<column name="process_head_id" />
		</property>

		<property name="name" type="string">
			<column name="name" />
		</property>
		<property name="required" type="java.lang.Boolean">
			<column name="required" sql-type="bit" />
		</property>
		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>
		<property name="readOnly" type="java.lang.Boolean">
			<column name="read_only" sql-type="bit" />
		</property>
		<property name="length" type="java.lang.Integer">
			<column name="length" />
		</property>

		<property name="defaultValue" type="string">
			<column name="default_value" unique="true" />
		</property>

		<property name="comments" type="string">
			<column name="comments" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" not-null="true" />
		</property>

		<property name="order" type="java.lang.Integer">
			<column name="display_order" />
		</property>

		<many-to-one cascade="none"
			class="org.beeblos.bpm.core.model.WProcessDataField" column="process_head_data_field_id"
			name="dataField" fetch="join" lazy="false" />
	</class>

	<class name="org.beeblos.bpm.core.model.WStepHead" table="w_step_head">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<!-- quitada la colección de aquí y cargada a mano por el problema de que 
			debemos filtrar además de por -->
		<!-- step_head_id por process_head_id para que solo traiga los datafield 
			correspondientes al proceso que está operativo -->
		<!-- dejamos la carga el WStepDefDAO y en WStepHeadDAO -->
		<!-- <set name="dataFieldDef" table="w_step_data_field" lazy="false" fetch="join" 
			cascade="none" > -->
		<!-- <key> -->
		<!-- <column name="step_head_id" not-null="true" /> -->
		<!-- </key> -->
		<!-- <one-to-many class="org.beeblos.bpm.core.model.WStepDataField" /> -->
		<!-- <filter name="byProcessHeadId" condition="processHeadId= :filterProcessHeadId"/> -->
		<!-- </set> -->

	</class>



	<class name="org.beeblos.bpm.core.model.WStepDef" table="w_step_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="version"
			type="java.lang.Integer">
			<column name="version" />
		</property>

		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>

		<property name="shared" type="java.lang.Boolean">
			<column name="shared" sql-type="bit" />
		</property>

		<property name="deleted" type="java.lang.Boolean">
			<column name="deleted" sql-type="bit" />
		</property>

		<property generated="never" lazy="false" name="rules" type="string">
			<column name="rules" />
		</property>

		<property generated="never" lazy="false" name="preconditions"
			type="string">
			<column name="preconditions" />
		</property>

		<property generated="never" lazy="false" name="postconditions"
			type="string">
			<column name="postconditions" />
		</property>

		<property generated="never" lazy="false" name="idDept"
			type="java.lang.Integer">
			<column name="id_dept">
				<comment>departamento al que corresponde el paso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idPhase"
			type="java.lang.Integer">
			<column name="id_phase">
				<comment>Fase con la que se asocia el paso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="instructions"
			type="string">
			<column name="instructions" />
		</property>
		<property generated="never" lazy="false" name="stepComments"
			type="string">
			<column name="step_comments" />
		</property>
		<property generated="never" lazy="false" name="idListZone"
			type="string">
			<column name="id_list_zone">
				<comment>La lista del step processor que se asocia a este paso.
					Default esta en la tabla w_proceso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idWorkZone"
			type="string">
			<column name="id_work_zone">
				<comment>La pagina que contiene el trabajo a realizar del step
					processor.. Default esta en la tabla
					w_proceso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAdditionalZone"
			type="string">
			<column name="id_additional_zone">
				<comment>La pagina que contiene la informacion adicional para el
					step processor... Default esta en la tabla w_proceso</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="idDefaultProcessor"
			type="string">
			<column name="id_default_processor" />
		</property>

		<property generated="never" lazy="false" name="submitForm"
			type="string">
			<column name="submit_form">
				<comment>form a ejecutar ( opcional )</comment>
			</column>
		</property>
		<!-- TIEMPOS Y REMINDER PREESTABLECIDOS ( LUEGO EN TIEMPO DE EJECUCIÓN 
			EL USUARIO LOS PODRÍA CAMBIAR -->
		<property generated="never" lazy="false" name="assignedTime"
			type="java.lang.Integer">
			<column name="assigned_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalDate">
			<column name="deadline_date">
				<comment>Si tiene una fecha limite</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineTime"
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalTime">
			<column name="deadline_time">
				<comment>Si tiene una hora de resolucion limite (en la fecha
					indicada arriba)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reminderTime"
			type="java.lang.Integer">
			<column name="reminder_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="runtimeModifiable"
			type="java.lang.Boolean">
			<column name="runtime_modifiable" sql-type="bit">
				<comment>si pueden modificar los deadline en runtime en el step
					processor</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<property name="sentAdminNotice" type="java.lang.Boolean">
			<column name="sent_admin_notice" sql-type="bit" />
		</property>
		<property name="arrivingAdminNotice" type="java.lang.Boolean">
			<column name="arriving_admin_notice" sql-type="bit" />
		</property>
		<property name="deadlineAdminNotice" type="java.lang.Boolean">
			<column name="deadline_admin_notice" sql-type="bit" />
		</property>
		<property name="reminderAdminNotice" type="java.lang.Boolean">
			<column name="reminder_admin_notice" sql-type="bit" />
		</property>
		<property name="expiredAdminNotice" type="java.lang.Boolean">
			<column name="expired_admin_notice" sql-type="bit" />
		</property>
		<property name="emailNotification" type="java.lang.Boolean">
			<column name="email_notification" sql-type="bit" />
		</property>
		<property name="engineNotification" type="java.lang.Boolean">
			<column name="engine_notification" sql-type="bit" />
		</property>
		<property name="sentUserNotice" type="java.lang.Boolean">
			<column name="sent_user_notice" sql-type="bit" />
		</property>
		<property name="arrivingUserNotice" type="java.lang.Boolean">
			<column name="arriving_user_notice" sql-type="bit" />
		</property>
		<property name="deadlineUserNotice" type="java.lang.Boolean">
			<column name="deadline_user_notice" sql-type="bit" />
		</property>
		<property name="reminderUserNotice" type="java.lang.Boolean">
			<column name="reminder_user_notice" sql-type="bit" />
		</property>
		<property name="expiredUserNotice" type="java.lang.Boolean">
			<column name="expired_user_notice" sql-type="bit" />
		</property>

		<property generated="never" lazy="false" name="idUserAssignmentMethod"
			type="java.lang.Integer">
			<column name="id_user_assignment_method">
				<comment>metodo externo a ejecutar (id_external_method) para asignar en runtime los usuarios que pueden realizar este step</comment>
			</column>
		</property>

		<property name="customValidation" type="java.lang.Boolean">
			<column name="custom_validation" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="customValidationRefClass"
			type="string">
			<column name="custom_validation_ref_class" />
		</property>
		<property generated="never" lazy="false" name="customValidationMethod"
			type="string">
			<column name="custom_validation_method" />
		</property>
		<property generated="never" lazy="false" name="customSaveMethod"
			type="string">
			<column name="custom_save_method" />
		</property>
		<property generated="never" lazy="false" name="customSaveRefClass"
			type="string">
			<column name="custom_save_ref_class" />
		</property>
		<property name="backingBean" type="java.lang.Boolean">
			<column name="backing_bean" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="routeEvalOrder"
			type="java.lang.Character">
			<column name="route_eval_order" />
		</property>

		<many-to-one cascade="save-update"
			class="org.beeblos.bpm.core.model.WStepHead" column="head_id" name="stepHead"
			fetch="join" lazy="false" />

		<many-to-one cascade="none" class="org.beeblos.bpm.core.model.WStepTypeDef"
			lazy="false" fetch="join" name="stepTypeDef">
			<column name="step_type_id"/>
		</many-to-one>
		
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" fetch="join" name="timeUnit">
			<column name="id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" fetch="join" name="reminderTimeUnit">
			<column name="reminder_id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO PARA EL DEADLINE</comment>
			</column>
		</many-to-one>

		<set cascade="all" lazy="false" fetch="join" name="response" order-by="respOrder">
			<key column="id_step" />
			<one-to-many class="org.beeblos.bpm.core.model.WStepResponseDef" />
		</set>

		<set name="rolesRelated" table="w_step_role" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_step" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WStepRole" />
		</set>

<!-- dml 20141030 - comentado resolver roles 

		<set cascade="all" name="rolesRelated" sort="unsorted" table="w_step_role"
			lazy="false" fetch="join">
			<key column="id_step" />
			<composite-element class="org.beeblos.bpm.core.model.WStepRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" lazy="false" fetch="join" />
				<property name="admin" type="java.lang.Boolean">
					<column name="admin" sql-type="bit">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
				<property name="idObject" type="java.lang.Integer">
					<column name="id_object" />
				</property>
				<property name="idObjectType" type="java.lang.String">
					<column name="id_object_type" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" 
					type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->

		<set name="usersRelated" table="w_step_user" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_step" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WStepUser" />
		</set>

<!-- dml 20141030 - comentado resolver roles 
		<set cascade="all" name="usersRelated" sort="unsorted" table="w_step_user"
			lazy="false" fetch="join">
			<key column="id_step" />
			<composite-element class="org.beeblos.bpm.core.model.WStepUser">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" lazy="false" fetch="join" />
				<property name="admin" type="java.lang.Boolean">
					<column name="admin" sql-type="bit">
						<comment>indicates this role is an admin role for this step</comment>
					</column>
				</property>
				<property name="idObject" type="java.lang.Integer">
					<column name="id_object" />
				</property>
				<property name="idObjectType" type="java.lang.String">
					<column name="id_object_type" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" 
					type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->
		<property generated="never" lazy="false" name="xmlId"
			type="string">
			<column name="xml_id" sql-type="text" />
		</property>
		
		<property generated="never" lazy="false" name="xmlHref"
			type="string">
			<column name="xml_href" sql-type="text" />
		</property>
		
		<property generated="never" lazy="false" name="xmlLabel"
			type="string">
			<column name="xml_label" sql-type="text" />
		</property>
		
		<property generated="never" lazy="false" name="mxCellString"
			type="string">
			<column name="mxcell_string" sql-type="text" />
		</property>

	</class>

	<class name="org.beeblos.bpm.core.model.WStepRole"
		table="w_step_role">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		
		<property name="idStep" type="java.lang.Integer">
			<column name="id_step" />
		</property>

		<property name="admin" type="java.lang.Boolean">
			<column name="admin" sql-type="bit">
				<comment>indicates if this role is an admin role for this step</comment>
			</column>
		</property>
		<property name="idObject" type="java.lang.Integer">
			<column name="id_object" />
		</property>
		<property name="idObjectType" type="java.lang.String">
			<column name="id_object_type" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.WRoleDef"
			lazy="false" fetch="join" name="role">
			<column name="id_role" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.WStepUser"
		table="w_step_user">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		
		<property name="idStep" type="java.lang.Integer">
			<column name="id_step" />
		</property>

		<property name="admin" type="java.lang.Boolean">
			<column name="admin" sql-type="bit">
				<comment>indicates if this user is an admin user for this step</comment>
			</column>
		</property>
		<property name="idObject" type="java.lang.Integer">
			<column name="id_object" />
		</property>
		<property name="idObjectType" type="java.lang.String">
			<column name="id_object_type" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			lazy="false" fetch="join" name="user">
			<column name="id_user" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.WStepResponseDef" table="w_step_response_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<!-- el id del step está en esta tabla pero no va aquí, va en la relacion 
			unidir definida en wstepdef -->
		<property generated="never" lazy="false" name="respOrder"
			type="java.lang.Integer">
			<column name="respOrder">
				<comment>EL ORDEN PARA QUE PODAMOS ORDENAR LAS RESPUESTAS POR ESTE
					ORDEN EN VEZ DEL ALFABETICO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WStepSequenceDef" table="w_step_sequence_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="order"
			type="java.lang.Short">
			<column name="order_" />
		</property>
		<property generated="never" lazy="false" name="enabled"
			type="java.lang.Boolean">
			<column name="enabled" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="afterAll"
			type="java.lang.Boolean">
			<column name="after_all" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="deleted"
			type="java.lang.Boolean">
			<column name="deleted" sql-type="bit" />
		</property>
		<property generated="never" lazy="false" name="validResponses"
			type="string">
			<column name="valid_responses">
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="rules" type="string">
			<column name="rules" />
		</property>

		<!-- <property generated="never" lazy="false" name="version" -->
		<!-- type="java.lang.Integer"> -->
		<!-- <column name="version" /> -->
		<!-- </property> -->
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="id_origin_step" lazy="false" fetch="join" name="fromStep" />
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="id_dest_step" lazy="false" fetch="join" name="toStep" />
		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="process_id" lazy="false" fetch="join" name="process" />

		<set name="externalMethod" table="w_stepsequence_method" inverse="true"
			lazy="false" fetch="join" cascade="save-update">
			<key column="id_step_sequence" />
			<many-to-many class="org.beeblos.bpm.core.model.WExternalMethod"
				column="id_method" />
		</set>
		<!-- <set cascade="all" name="externalMethod" sort="unsorted" table="w_stepsequence_method" 
			lazy="false" fetch="join"> <key column="id_step_sequence" /> <composite-element 
			class="org.beeblos.bpm.core.model.WStepSequenceMethod"> <many-to-one name="externalMethod" 
			class="org.beeblos.bpm.core.model.WExternalMethod" column="id_method" cascade="none" 
			lazy="false" /> <property name="enabled" type="java.lang.Boolean"> <column 
			name="enabled" sql-type="bit"/> </property> <property name="insertUser" type="java.lang.Integer"> 
			<column name="insert_user" /> </property> <property name="insertDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime"> 
			<column name="insert_date" length="0" not-null="true" /> </property> </composite-element> 
			</set> -->
		
		<property generated="never" lazy="false" name="xmlId"
			type="string">
			<column name="xml_id" sql-type="text" />
		</property>
		
		<property generated="never" lazy="false" name="xmlMxCellString"
			type="string">
			<column name="mxcell_string" sql-type="text" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WStepWorkSequence" table="w_step_work_sequence">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="sentBack"
			type="java.lang.Boolean">
			<column name="sent_back" sql-type="bit" />
		</property>

		<property generated="never" lazy="false" name="executionDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="execution_date" not-null="true" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<many-to-one class="org.beeblos.bpm.core.model.WStepWork"
			column="step_work_id" lazy="false" fetch="join" name="stepWork" />

		<many-to-one class="org.beeblos.bpm.core.model.WStepSequenceDef"
			column="step_sequence_def_id" lazy="false" fetch="join" name="stepSequence" />

		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="begin_step_id" lazy="false" fetch="join" name="beginStep" />

		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="end_step_id" lazy="false" fetch="join" name="endStep" />

	</class>

	<class name="org.beeblos.bpm.core.model.WTimeUnit" table="w_time_unit">
		<id name="id" type="java.lang.Integer">
			<column name="id" unique="true" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="conversion"
			type="java.lang.Integer">
			<column name="conversion">
				<comment>the value to convert into seconds</comment>
			</column>
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WProcessStatus" table="w_process_status">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property name="name" type="string">
			<column name="name" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WProcessWork" table="w_process_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<!-- <version name="version" type="java.lang.Integer"> -->
		<!-- <column name="version" > -->
		<!-- <comment>version</comment> -->
		<!-- </column> -->
		<!-- </version> -->
		<property name="startingTime" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="starting_time">
				<comment>the work was started at this date and time (UTC TIME)</comment>
			</column>
		</property>
		<property name="startingType" type="java.lang.Integer">
			<column name="starting_type">
				<comment>indicates ir start is manual (human) or automated</comment>
			</column>
		</property>
		<property name="endTime" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="end_time">
				<comment>loads when work finish o forced end</comment>
			</column>
		</property>
		<property name="reference" type="java.lang.String">
			<column name="reference">
				<comment>user friendly reference to identificate this work</comment>
			</column>
		</property>
		<property name="comments" type="string">
			<column name="comments">
				<comment>user friendly comments to identificate this work</comment>
			</column>
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property name="modDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object">
				<comment>ID DEL OBJETO QUE ESTA EN ESTE PASO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column name="id_object_type">
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>

		<many-to-one class="org.beeblos.bpm.core.model.noper.WProcessDefThin"
			column="id_process" lazy="false" name="processDef" fetch="join" />

		<many-to-one name="status"
			class="org.beeblos.bpm.core.model.WProcessStatus" fetch="join">
			<column name="id_status">
				<comment>1-processing / 2 - paused / 3 - finished / 4 - foced end /
					5 - others ( ver tabla w_status_type)</comment>
			</column>
		</many-to-one>
	</class>

	<class name="org.beeblos.bpm.core.model.WStepWork" table="w_step_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<!-- <property generated="never" lazy="false" name="version" -->
		<!-- type="java.lang.Integer"> -->
		<!-- <column name="version" /> -->
		<!-- </property> -->

		<property generated="never" lazy="false" name="arrivingDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="arriving_date">
				<comment>fecha/hora a la que llego</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="openedDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="opened_date" not-null="false">
				<comment>fecha hora a la que se abrio</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="decidedDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="decided_date" not-null="false">
				<comment>fecha/hora a la que se resolvio</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="response"
			type="string">
			<column name="response" />
		</property>

		<property generated="never" lazy="false" name="nextStepInstructions"
			type="string">
			<column name="instructions" />
		</property>

		<property generated="never" lazy="false" name="assignedTime"
			type="java.lang.Integer">
			<column name="assigned_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalDate">
			<column name="deadline_date">
				<comment>Si tiene una fecha limite</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineTime"
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalTime">
			<column name="deadline_time">
				<comment>Si tiene una hora de resolucion limite (en la fecha
					indicada arriba)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reminderTime"
			type="java.lang.Integer">
			<column name="reminder_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="adminProcess"
			type="java.lang.Boolean">
			<column name="admin_process" sql-type="bit">
				<comment>si lo procesa el administrador se prende a true</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="locked"
			type="java.lang.Boolean">
			<column name="locked" sql-type="bit">
				<comment>INDICA SI EL PASO ESTA BLOQUEADO ( ALGUIEN LO ESTÁ
					PROCESANDO ... )</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="lockedSince"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="locked_since" />
		</property>

		<!-- ESTA TABLA NO TIENE EL INSERT DATE PORQUE ESE DATO ESTÁ EN EL CAMPO 
			arriving_date <property generated="never" lazy="false" name="insertDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalDate" > 
			<column name="insert_date" /> </property> -->
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="sentBack"
			type="java.lang.Boolean">
			<column name="sent_back" sql-type="bit">
				<comment>indica que el paso corriente es un paso que ha sido
					devuelto</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="urlData"
			type="string">
			<column name="url_data" />
		</property>

		<property generated="never" lazy="false" name="myNotes"
			type="java.lang.Boolean">
			<column name="my_notes" sql-type="bit">
				<comment>indica que las notas guardadas en userNotes son personales
					para el propio usuario</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="sendUserNotesToNextStep"
			type="java.lang.Boolean">
			<column name="send_user_notes_to_next_step" sql-type="bit">
				<comment>indica que va mandar las user notes como instrucciones al
					proximo paso</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="userInstructions"
			type="string">
			<column name="user_instructions" sql-type="longtext">
				<comment>Instrucciones que envio el usuario del paso anterior para
					el paso corriente (runtime)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="userNotes"
			type="string">
			<column name="user_notes" sql-type="longtext">
				<comment>Notas del usuario que ejecuta el paso corriente o
					instrucciones para el paso próximo</comment>
			</column>
		</property>

		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="insert_user" lazy="false" name="insertUser" fetch="join" />
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="locked_by" lazy="false" name="lockedBy" fetch="join" />

		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="opener_user" lazy="false" name="openerUser" fetch="join" />
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="performer_user_id" lazy="false" name="performer" fetch="join" />

		<many-to-one name="wProcessWork"
			class="org.beeblos.bpm.core.model.WProcessWork" fetch="join" lazy="false">
			<column name="id_work">
				<comment>Indica el id dado al work lanzado del que depende este paso</comment>
			</column>
		</many-to-one>

		<set cascade="all" lazy="false" fetch="join" name="assignedTo" sort="unsorted">
			<key column="id_step_work" />
			<one-to-many class="org.beeblos.bpm.core.model.WStepWorkAssignment" />
		</set>

		<!-- <many-to-one class="org.beeblos.bpm.core.model.WProcessDef" -->
		<!-- column="id_process" lazy="false" name="process" fetch="join"/> -->


		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			lazy="false" name="previousStep" fetch="join">
			<column name="id_previous_step" not-null="false">
				<comment>PASO QUE LO ENVIO AQUI // si está en null quiere decir que
					es el de inicio o que fué inyectado aquí ...</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			lazy="false" name="currentStep" fetch="join">
			<column name="id_current_step">
				<comment>PASO ACTUAL DEL OBJETO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="timeUnit" fetch="join">
			<column name="id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="reminderTimeUnit" fetch="join">
			<column name="reminder_id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO PARA EL DEADLINE</comment>
			</column>
		</many-to-one>
	</class>



	<!-- thin object for control purposes ... -->
	<class name="org.beeblos.bpm.core.model.noper.WStepWorkCheckObject"
		table="w_step_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="arrivingDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="arriving_date">
				<comment>fecha/hora a la que llego</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="openedDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="opened_date" not-null="false">
				<comment>fecha hora a la que se abrio</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="decidedDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="decided_date" not-null="false">
				<comment>fecha/hora a la que se resolvio</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="response"
			type="string">
			<column name="response" />
		</property>

		<!-- <property generated="never" lazy="false" name="assignedTime" type="java.lang.Integer"> 
			<column name="assigned_time"> <comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU 
			RESOLUCION</comment> </column> </property> <property generated="never" lazy="false" 
			name="deadlineDate" type="org.jadira.usertype.dateandtime.joda.PersistentLocalDate"> 
			<column name="deadline_date"> <comment>Si 
			tiene una fecha limite</comment> </column> </property> <property generated="never" 
			lazy="false" name="deadlineTime" type="time"> <column name="deadline_time"> 
			<comment>Si tiene una hora de resolucion limite (en la fecha indicada arriba)</comment> 
			</column> </property> <property generated="never" lazy="false" name="reminderTime" 
			type="java.lang.Integer"> <column name="reminder_time"> <comment>CANTIDAD 
			DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment> </column> </property> -->

		<property generated="never" lazy="false" name="adminProcess"
			type="java.lang.Boolean">
			<column name="admin_process" sql-type="bit">
				<comment>si lo procesa el administrador se prende a true</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="locked"
			type="java.lang.Boolean">
			<column name="locked" sql-type="bit">
				<comment>INDICA SI EL PASO ESTA BLOQUEADO ( ALGUIEN LO ESTÁ
					PROCESANDO ... )</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="lockedSince"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="locked_since" />
		</property>

		<!-- ESTA TABLA NO TIENE EL INSERT DATE PORQUE ESE DATO ESTÁ EN EL CAMPO 
			arriving_date <property generated="never" lazy="false" name="insertDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentLocalDate" > 
			<column name="insert_date" /> </property> -->
		<property generated="never" lazy="false" name="idModUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="sentBack"
			type="java.lang.Boolean">
			<column name="sent_back" sql-type="bit">
				<comment>indica que el paso corriente es un paso que ha sido
					devuelto</comment>
			</column>
		</property>

		<property name="idInsertUser" type="java.lang.Integer" lazy="false">
			<column name="insert_user" />
		</property>

		<property name="lockedByUserId" type="java.lang.Integer"
			lazy="false">
			<column name="locked_by" />
		</property>

		<property name="idOpenerUser" type="java.lang.Integer" lazy="false">
			<column name="opener_user" />
		</property>

		<property name="idPerformer" type="java.lang.Integer" lazy="false">
			<column name="performer_user_id" />
		</property>

		<property name="idProcessWork" type="java.lang.Integer" lazy="false">
			<column name="id_work" />
		</property>

		<property name="idPreviousStep" type="java.lang.Integer"
			lazy="false">
			<column name="id_previous_step" />
		</property>

		<property name="idCurrentStep" type="java.lang.Integer" lazy="false">
			<column name="id_current_step" />
		</property>

	</class>





	<class name="org.beeblos.bpm.core.model.WStepWorkAssignment"
		table="w_step_work_assignment">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="idAssignedRole"
			type="java.lang.Integer">
			<column name="id_role">
				<comment>ROL AL QUE ESTA ASIGNADO EL STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAssignedUser"
			type="java.lang.Integer">
			<column name="id_user">
				<comment>USUARIO AL QUE ESTA ASIGNADO EL STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="active"
			type="java.lang.Boolean">
			<column name="active" sql-type="bit">
				<comment>SI ESTA ACTIVA ESTA REGLA (PUEDE ESTAR ACTIVA EN UN MOMENTO
					Y LUEGO SI EL WORKFLOW DA UNA VUELTA PODRIA QUEDAR OBSOLETA O NO
					APLICAR ...)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reassigned"
			type="java.lang.Boolean">
			<column name="reassigned" sql-type="bit">
				<comment>SI LO REASIGNAN SE PRENDE ESTE FLAG QUE INDICARA ESO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reassignedBy"
			type="java.lang.Integer">
			<column name="reassigned_by">
				<comment>USUARIO QUE REASIGNO ESTE STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reassignedDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="reassigned_date">
				<comment>TIMESTAMP CON LA REASIGNACION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignment"
			type="java.lang.Boolean">
			<column name="from_reassignment" sql-type="bit">
				<comment>SI VIENE DE UN PASO REASIGNADO SE INDICA AQUI.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignmentBy"
			type="java.lang.Integer">
			<column name="from_reassignment_by">
				<comment>USUARIO QUE REASIGNO ESTE STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignmentDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="from_reassignment_date">
				<comment>TIMESTAMP CON LA REASIGNACION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WUserDef" table="w_user_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="login" type="string">
			<column name="login" />
		</property>
		<property generated="never" lazy="false" name="email" type="string">
			<column name="email" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<set name="rolesRelated" table="w_user_role" cascade="save-update"
			lazy="false" fetch="join">
			<key>
				<column name="id_user" />
			</key>
			<one-to-many class="org.beeblos.bpm.core.model.WUserRole" />
		</set>

<!-- dml 20141030 - comentado resolver roles 
		<set cascade="all" name="rolesRelated" sort="unsorted" table="w_user_role"
			lazy="false" fetch="join">
			<key column="id_user" />
			<composite-element class="org.beeblos.bpm.core.model.WUserRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" cascade="none" lazy="false" fetch="join" />
				<property name="active" type="java.lang.Boolean">
					<column name="active" sql-type="bit" />
				</property>
				<property name="insertUser" type="java.lang.Integer">
					<column name="insert_user" />
				</property>
				<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
					<column name="insert_date" not-null="true" />
				</property>
			</composite-element>
		</set>
-->

	</class>	

	<class name="org.beeblos.bpm.core.model.WUserRole"
		table="w_user_role">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		
		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit">
				<comment>indicates if this role is active</comment>
			</column>
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property name="insertDate" type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			lazy="false" fetch="join" name="user">
			<column name="id_user" />
		</many-to-one>

		<many-to-one class="org.beeblos.bpm.core.model.WRoleDef"
			lazy="false" fetch="join" name="role">
			<column name="id_role" />
		</many-to-one>

	</class>

	<class name="org.beeblos.bpm.core.model.WUseridmapper" table="w_useridmapper">
		<id name="idUser" type="java.lang.Integer">
			<column name="id_user" />
			<generator class="foreign">
				<param name="property">WUserDef</param>
			</generator>
		</id>

		<property generated="never" lazy="false" name="type" type="string">
			<column name="type_" />
		</property>
		<property generated="never" lazy="false" name="description"
			type="string">
			<column name="description" />
		</property>
		<property generated="never" lazy="false" name="externalUserId"
			type="string">
			<column name="external_user_id" />
		</property>

	</class>

	<class name="org.beeblos.bpm.core.model.WTrackWork" table="w_track_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object">
				<comment>ID DEL OBJETO QUE ESTA EN ESTE PASO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column name="id_object_type">
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="version"
			type="java.lang.Integer">
			<column name="version" />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments">
				<comment>String reference about the step</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="adminProcess"
			type="java.lang.Boolean">
			<column name="admin_process" sql-type="bit">
				<comment>si lo procesa el administrador se prende a true</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="response"
			type="string">
			<column name="response" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="false">
				<comment>fecha hora a la que se inserto</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user">
				<comment>usuario que lo inserto</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="userNotes"
			type="string">
			<column name="user_notes" sql-type="longtext">
				<comment>Notas del usuario que ejecuta el paso corriente o
					instrucciones para el paso próximo</comment>
			</column>
		</property>

		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="id_process" lazy="false" fetch="join" name="process" />

		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			lazy="false" fetch="join" name="previousStep">
			<column name="id_previous_step" not-null="false">
				<comment>PASO QUE LO ENVIO AQUI // si está en null quiere decir que
					es el de inicio o que fué inyectado aquí ...</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			lazy="false" fetch="join" name="currentStep">
			<column name="id_current_step">
				<comment>PASO ACTUAL DEL OBJETO</comment>
			</column>
		</many-to-one>
	</class>

	<class name="com.sp.hb4util.core.model.EnvType" table="env_type">
		<id name="id" type="java.lang.Short">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="color" type="string">
			<column name="color" />
		</property>

		<property generated="never" lazy="false" name="addDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="add_date" />
		</property>
		<property generated="never" lazy="false" name="addUser"
			type="java.lang.Integer">
			<column name="add_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

	</class>

	<class name="com.sp.hb4util.core.model.Environment" table="environment">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="name" type="string">
			<column name="name" />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="addDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="add_date" />
		</property>
		<property generated="never" lazy="false" name="addUser"
			type="java.lang.Integer">
			<column name="add_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>

		<many-to-one class="com.sp.hb4util.core.model.EnvType"
			column="env_type_id" lazy="false" fetch="join" name="envType" cascade="none" />

	</class>

	<class name="org.beeblos.bpm.core.model.WProcessDataField" table="w_process_head_data_field">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property name="processHeadId" type="java.lang.Integer">
			<column name="process_head_id" />
		</property>

		<many-to-one name="dataType" class="com.sp.common.model.WDataType"
			fetch="join" lazy="false">
			<column name="data_type_id" not-null="true" />
		</many-to-one>

		<property name="name" type="string">
			<column name="name" />
		</property>
		<property name="columnName" type="string">
			<column name="col_name" />
		</property>
		<property name="order" type="java.lang.Integer">
			<column name="order_" />
		</property>
		<property name="required" type="java.lang.Boolean">
			<column name="required" sql-type="bit" />
		</property>
		<property name="comments" type="string">
			<column name="comments" />
		</property>
		<property name="active" type="java.lang.Boolean">
			<column name="active" sql-type="bit" />
		</property>

		<property name="synchronize" type="java.lang.Boolean">
			<column name="synchronize" sql-type="bit" />
		</property>
		<property name="synchroWith" type="java.lang.String">
			<column name="synchrowith" sql-type="char" />
		</property>

		<property name="schema" type="java.lang.String">
			<column name="schema_" />
		</property>
		<property name="tableName" type="java.lang.String">
			<column name="tablename" />
		</property>
		<property name="fieldName" type="java.lang.String">
			<column name="fieldname" />
		</property>
		<property name="className" type="java.lang.String">
			<column name="classname" />
		</property>
		<property name="getMethod" type="java.lang.String">
			<column name="get_method" />
		</property>
		<property name="putMethod" type="java.lang.String">
			<column name="put_method" />
		</property>
		<property name="paramType" type="java.lang.String">
			<column name="param_type" />
		</property>
		<property name="paramList" type="java.lang.String">
			<column name="paramlist" />
		</property>

		<property name="atProcessStartup" type="java.lang.Boolean">
			<column name="at_process_startup" sql-type="bit" />
		</property>
		<property name="atProcessEnd" type="java.lang.Boolean">
			<column name="at_process_end" sql-type="bit" />
		</property>
		<property name="whenStepWorkIsInvoked" type="java.lang.Boolean">
			<column name="when_step_work_is_invoked" sql-type="bit" />
		</property>
		<property name="whenStepWorkIsProcessed" type="java.lang.Boolean">
			<column name="when_step_work_is_processed" sql-type="bit" />
		</property>

		<property name="length" type="java.lang.Integer">
			<column name="length" />
		</property>
		<property name="insertDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" not-null="true" />
		</property>
		<property name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" not-null="true" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" not-null="true" />
		</property>
	</class>

	<class name="com.sp.common.model.WDataType" table="w_data_type">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property name="name" type="string">
			<column name="name" />
		</property>
		<property name="maxLength" type="java.lang.Integer">
			<column name="max_length" />
		</property>
		<property name="defaultLength" type="java.lang.Integer">
			<column name="default_length" />
		</property>
		<property name="showName" type="string">
			<column name="show_name" />
		</property>
		<property name="sqlType" type="java.lang.Integer">
			<column name="sql_type" not-null="true" />
		</property>
		<property name="sqlTypeName" type="string">
			<column name="sql_type_name" not-null="true" />
		</property>
		<property name="insertDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="insert_date" not-null="true" />
		</property>
		<property name="insertUser" type="java.lang.Integer">
			<column name="insert_user" not-null="true" />
		</property>
		<property name="modDate" 
			type="org.jadira.usertype.dateandtime.joda.PersistentDateTime">
			<column name="mod_date" not-null="true" />
		</property>
		<property name="modUser" type="java.lang.Integer">
			<column name="mod_user" not-null="true" />
		</property>

	</class>

	<class name="org.beeblos.bpm.core.model.WTaskType" table="w_task_type">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property name="name" type="string">
			<column name="name" />
		</property>
		<property name="comments" type="string">
			<column name="comments" />
		</property>
	</class>

	<!-- returns a list of all runtime role ids in the system -->
    <sql-query name="findRuntimeRoleIds">
		<return-scalar column="wsr.id_role" type="java.lang.Integer"/>
		<![CDATA[select distinct wsr.id_role from w_step_role wsr 
						left join w_process_step_def wpsd ON wsr.id_step=wpsd.id_step 
						left join w_role_def wrd ON wrd.id=wsr.id_role 
					WHERE wrd.runtime_role]]>
    </sql-query>

    <!-- returns a list of all runtime role ids for given processId -->
    <sql-query name="findProcessRuntimeRoleId">
		<return-scalar column="wsr.id_role" type="java.lang.Integer"/>
		<![CDATA[select distinct wsr.id_role from w_step_role wsr 
						left join w_process_step_def wpsd ON wsr.id_step=wpsd.id_step 
						left join w_role_def wrd ON wrd.id=wsr.id_role 
					WHERE wrd.runtime_role AND wpsd.id_process= :idProcessdDef]]>
    </sql-query>
    
    <!-- returns a list of all runtime roles for given processId -->
    <sql-query name="findProcessRuntimeRole">
		<return alias="wRoleDef" class="org.beeblos.bpm.core.model.WRoleDef"/>
		<![CDATA[select distinct wrd.* from w_step_role wsr 
						left join w_process_step_def wpsd ON wsr.id_step=wpsd.id_step 
						left join w_role_def wrd ON wrd.id=wsr.id_role 
					WHERE wrd.runtime_role AND wpsd.id_process= :idProcessDef]]>
    </sql-query>

    <!-- returns a list of all users for a given runtime role and processId -->
    <sql-query name="findUsersForRuntimeRole">
		<return alias="wUserDef" class="org.beeblos.bpm.core.model.WUserDef"/>
		<![CDATA[SELECT DISTINCT wud.* from w_user_role_work wurw
						LEFT JOIN w_user_def wud ON wud.id=wurw.id_user
					WHERE wurw.id_process_work=:idRole AND wurw.id_role=:idProcessWork
					]]>
    </sql-query>

    <!-- returns a list of all users for a given runtime role and processId -->
    <sql-query name="countStepDefBelongingHead">
		<return alias="wUserDef" class="org.beeblos.bpm.core.model.WUserDef"/>
		<![CDATA[SELECT IF(wsd.head_id = :stepHeadId ,true,false) 
					FROM w_step_def wsd 
					WHERE wsd.head_id = :stepHeadId 
					GROUP BY wsd.head_id
					]]>
    </sql-query>
    
	<filter-def name="byProcessHeadId">
		<filter-param name="filterProcessHeadId" type="java.lang.Integer" />
	</filter-def>
	
</hibernate-mapping>