<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated Oct 30, 2010 12:25:06 AM by Hibernate Tools 3.3.0.GA -->
<hibernate-mapping>
	<class name="org.beeblos.bpm.core.model.WProcessHead" table="w_process_head">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="100" name="name"  />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
		<one-to-one name="managedTable" class="org.beeblos.bpm.core.model.WProcessHeadManagedData"
				cascade="all">
		</one-to-one>
       <set name="processDataFieldDef" table="w_process_data_field" 
				lazy="false" fetch="join" cascade="none">
            <key>
                <column name="process_head_id" not-null="true" />
            </key>
            <one-to-many class="org.beeblos.bpm.core.model.WProcessDataField" />
        </set>		
	</class>

    <class name="org.beeblos.bpm.core.model.WProcessHeadManagedData" table="w_process_head_managed_data">
        <id name="headId" type="java.lang.Integer">
            <column name="head_id" />
            <generator class="assigned" />
        </id>

        <property name="name" type="string">
            <column name="name" length="100" not-null="true"  />
        </property>
        <property name="ignoreCase" type="java.lang.Boolean">
            <column name="ignore_case" />
        </property>
        <property name="schema" type="string">
            <column name="sxema" length="100" not-null="true" />
        </property>
        <property name="catalog" type="string">
            <column name="catalog" length="100" not-null="true" />
        </property>
        <property name="comment" type="string">
            <column name="comment" />
        </property>
		<property generated="never" lazy="false" name="insertDate" type="timestamp">
			<column name="insert_date"  />
		</property>
        <property name="insertUser" type="java.lang.Integer">
            <column name="insert_user" not-null="true" />
        </property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column name="mod_date"  />
		</property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user" not-null="true" />
        </property>
    </class>	
    
	<class name="org.beeblos.bpm.core.model.WProcessDef" table="w_process_def">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="version" type="java.lang.Integer">
			<column name="version"  />
		</property>
	
		<property name="active"	type="java.lang.Boolean">
			<column name="active"/>
		</property>
	
		<property name="productionDate" type="timestamp">
			<column name="production_date" length="0" />
		</property>
		
		<property name="productionUser" type="java.lang.Integer">
			<column name="production_user" />
		</property>
	
		<property generated="never" lazy="false" name="comments" type="string">
			<column name="comments" />
		</property>
		
		<property generated="never" lazy="false" name="idListZone" type="string">
			<column name="id_list_zone">
				<comment>Default:La lista del step processor que se asocia a este paso.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idWorkZone"
			type="string">
			<column name="id_work_zone">
				<comment>Default:La pagina que contiene el trabajo a realizar del step processor.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAdditionalZone"
			type="string">
			<column name="id_additional_zone">
				<comment>Default:La pagina que contiene la informacion adicional para el step processor.</comment>
			</column>
		</property>
	
		<property generated="never" lazy="false" name="idProcessorStep" type="string">
			<column name="id_processor_step"  />
		</property>
	
		<property generated="never" lazy="false" name="adminEmail" type="string">
			<column name="admin_email" />
		</property>
	
		<property name="totalTime" type="java.lang.Integer">
			<column name="total_time" />
		</property>
	
		<property name="globalDeadlineDate" type="java.lang.String">
			<column name="global_deadline_date" />
		</property>
	
		<property generated="never" lazy="false" name="insertDate" type="timestamp">
			<column name="insert_date" not-null="true" />
		</property>
	
		<property generated="never" lazy="false" name="insertUser" type="java.lang.Integer">
			<column name="insert_user" />
		</property>
	
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column name="mod_date"  />
		</property>
	
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
	
		<property name="processMap" type="text">
			<column name="process_map" />
		</property>

		<many-to-one cascade="save-update" class="org.beeblos.bpm.core.model.WProcessHead"
			column="head_id"  name="process" fetch="join" lazy="false"/>
	
		<many-to-one cascade="none" class="org.beeblos.bpm.core.model.WStepDef"
			column="id_begin"  name="beginStep" fetch="join" lazy="false"/>
	
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="totalTimeUnit">
			<column name="total_time_unit"/>
		</many-to-one>
	
		<many-to-one class="org.beeblos.bpm.core.model.WEmailAccount"
			lazy="false" name="systemEmailAccount">
			<column name="id_system_email"/>
		</many-to-one>
			
		<!-- dml 20120306 -->
		<many-to-one class="org.beeblos.bpm.core.model.WEmailTemplates"
			lazy="false" name="arrivingAdminNoticeTemplate">
			<column name="id_arriving_admin_notice_template"/>
		</many-to-one>
	
		<!-- dml 20120306 -->
		<many-to-one class="org.beeblos.bpm.core.model.WEmailTemplates"
			lazy="false" name="arrivingUserNoticeTemplate">
			<column name="id_arriving_user_notice_template"/>
		</many-to-one>
		
		<set cascade="all" name="rolesRelated" sort="unsorted"
			table="w_process_role"  lazy="false" >
			<key column="id_process" />
			<composite-element class="org.beeblos.bpm.core.model.WProcessRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" cascade="save-update" lazy="false" />
				<property name="admin"	type="java.lang.Boolean">
					<column name="admin">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
		        <property name="idObject" type="java.lang.Integer">
		            <column name="id_object" />
		        </property>
		        <property name="idObjectType" type="java.lang.String">
		            <column name="id_object_type" />
		        </property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>
		
		<set cascade="all" name="usersRelated" sort="unsorted"
			table="w_process_user" lazy="false" >
			<key column="id_process" />
			<composite-element class="org.beeblos.bpm.core.model.WProcessUser">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" cascade="save-update" lazy="false" />
				<property name="admin"	type="java.lang.Boolean">
					<column name="admin">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
		        <property name="idObject" type="java.lang.Integer">
		            <column name="id_object" />
		        </property>
		        <property name="idObjectType" type="java.lang.String">
		            <column name="id_object_type" />
		        </property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>		

	</class>
	
	<class name="org.beeblos.bpm.core.model.WRoleDef" table="w_role_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="50" name="name"  />
		</property>
		<property generated="never" lazy="false" name="description"
			type="string">
			<column name="description" />
		</property>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object">
				<comment>Deje por las dudas para relacionar roles con objetos</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column length="100" name="id_object_type" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>

		<set cascade="all" name="usersRelated" sort="unsorted"
			table="w_user_role"  lazy="false" >
			<key column="id_role" />
			<composite-element class="org.beeblos.bpm.core.model.WUserRole">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" cascade="none" lazy="false" />
				<property name="active"	type="java.lang.Boolean">
					<column name="active"/>
				</property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>

	</class>

    <class name="org.beeblos.bpm.core.model.WStepDataField" table="w_step_data_field">

		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
        <property name="stepHeadId" type="java.lang.Integer">
            <column name="step_head_id"  />
        </property> 		

        <property name="name" type="string">
            <column name="name" length="100" not-null="true" />
        </property>
        <property name="required" type="java.lang.Boolean">
            <column name="required" />
        </property>
        <property name="active" type="java.lang.Boolean">
            <column name="active" />
        </property>
        <property name="length" type="java.lang.Integer">
            <column name="length"  />
        </property>        

       <property name="defaultValue" type="string">
            <column name="default_value" length="100" not-null="true" unique="true" />
        </property>

        <property name="comments" type="string">
            <column name="comments" />
        </property>
		<property generated="never" lazy="false" name="insertDate" type="timestamp">
			<column name="insert_date"  />
		</property>
        <property name="insertUser" type="java.lang.Integer">
            <column name="insert_user" not-null="true" />
        </property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column name="mod_date"  />
		</property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user" not-null="true" />
        </property>
        
        <many-to-one cascade="none" class="org.beeblos.bpm.core.model.WProcessDataField"
			column="process_data_field_id" name="dataField" fetch="join" lazy="false"/>
    </class>	

	<class name="org.beeblos.bpm.core.model.WStepHead" table="w_step_head">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="100" name="name"  />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column name="comments" />
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>

       <set name="dataFieldDef" table="w_step_data_field" 
				lazy="false" fetch="join" cascade="none" >
            <key>
                <column name="step_head_id" not-null="true" />
            </key>
            <one-to-many class="org.beeblos.bpm.core.model.WStepDataField" />
        </set>	
		
	</class>

	<class name="org.beeblos.bpm.core.model.WStepDef" table="w_step_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="version" type="java.lang.Integer">
			<column name="version"  />
		</property>
	
		<property name="active"	type="java.lang.Boolean">
			<column name="active"/>
		</property>
	
		<property name="shared"	type="java.lang.Boolean">
			<column name="shared"/>
		</property>
	
		<property generated="never" lazy="false" name="rules" type="string">
			<column name="rules"  />
		</property>
	
		<property generated="never" lazy="false" name="preconditions" type="string">
			<column name="preconditions"  />
		</property>
	
		<property generated="never" lazy="false" name="postconditions" type="string">
			<column name="postconditions"  />
		</property>
	
		<property generated="never" lazy="false" name="idDept" type="java.lang.Integer">
			<column name="id_dept">
				<comment>departamento al que corresponde el paso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idPhase"
			type="java.lang.Integer">
			<column name="id_phase">
				<comment>Fase con la que se asocia el paso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="instructions"
			type="string">
			<column name="instructions" />
		</property>
		<property generated="never" lazy="false" name="stepComments"
			type="string">
			<column name="step_comments" />
		</property>
		<property generated="never" lazy="false" name="idListZone"
			type="string">
			<column length="255" name="id_list_zone">
				<comment>La lista del step processor que se asocia a este paso.
					Default esta en la tabla w_proceso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idWorkZone"
			type="string">
			<column length="255" name="id_work_zone">
				<comment>La pagina que contiene el trabajo a realizar del step
					processor.. Default esta en la tabla
					w_proceso</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAdditionalZone"
			type="string">
			<column length="255" name="id_additional_zone">
				<comment>La pagina que contiene la informacion adicional para el
					step processor... Default esta en la tabla w_proceso</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="idDefaultProcessor" type="string">
			<column length="255" name="id_default_processor"  />
		</property>

		<property generated="never" lazy="false" name="submitForm"
			type="string">
			<column length="255" name="submit_form">
				<comment>form a ejecutar ( opcional )</comment>
			</column>
		</property>
		<!-- TIEMPOS Y REMINDER PREESTABLECIDOS ( LUEGO EN TIEMPO DE EJECUCIÓN 
			EL USUARIO LOS PODRÍA CAMBIAR -->
		<property generated="never" lazy="false" name="assignedTime"
			type="java.lang.Integer">
			<column name="assigned_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineDate"
			type="date">
			<column length="0" name="deadline_date">
				<comment>Si tiene una fecha limite</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineTime"
			type="time">
			<column length="0" name="deadline_time">
				<comment>Si tiene una hora de resolucion limite (en la fecha
					indicada arriba)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reminderTime"
			type="java.lang.Integer">
			<column name="reminder_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="runtimeModifiable"
			type="boolean">
			<column name="runtime_modifiable" >
				<comment>si pueden modificar los deadline en runtime en el step
					processor</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>

        <property name="sentAdminNotice" type="boolean">
            <column name="sent_admin_notice"  />
        </property>
        <property name="arrivingAdminNotice" type="boolean">
            <column name="arriving_admin_notice"  />
        </property>
        <property name="deadlineAdminNotice" type="boolean">
            <column name="deadline_admin_notice"  />
        </property>
        <property name="reminderAdminNotice" type="boolean">
            <column name="reminder_admin_notice"  />
        </property>
        <property name="expiredAdminNotice" type="boolean">
            <column name="expired_admin_notice"  />
        </property>
        <property name="emailNotification" type="boolean">
            <column name="email_notification"  />
        </property>
        <property name="engineNotification" type="boolean">
            <column name="engine_notification"  />
        </property>
        <property name="sentUserNotice" type="boolean">
            <column name="sent_user_notice"  />
        </property>
        <property name="arrivingUserNotice" type="boolean">
            <column name="arriving_user_notice"  />
        </property>
        <property name="deadlineUserNotice" type="boolean">
            <column name="deadline_user_notice"  />
        </property>
        <property name="reminderUserNotice" type="boolean">
            <column name="reminder_user_notice"  />
        </property>
        <property name="expiredUserNotice" type="boolean">
            <column name="expired_user_notice"  />
        </property>
        
         <property name="customValidation" type="boolean">
            <column name="custom_validation"  />
        </property>
		<property generated="never" lazy="false" name="customValidationRefClass"
			type="string">
			<column name="custom_validation_ref_class" />
		</property>
		<property generated="never" lazy="false" name="customValidationMethod"
			type="string">
			<column name="custom_validation_method" />
		</property>
		<property generated="never" lazy="false" name="customSaveMethod"
			type="string">
			<column name="custom_save_method" />
		</property>		
		<property generated="never" lazy="false" name="customSaveRefClass"
			type="string">
			<column name="custom_save_ref_class" />
		</property>
        <property name="backingBean" type="boolean">
            <column name="backing_bean"  />
        </property>
        
        
		<many-to-one cascade="save-update" class="org.beeblos.bpm.core.model.WStepHead"
			column="head_id" name="stepHead" fetch="join" lazy="false"/>

		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="timeUnit">
			<column name="id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="reminderTimeUnit">
			<column name="reminder_id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO PARA EL DEADLINE</comment>
			</column>
		</many-to-one>
	
		<set cascade="all" lazy="false" name="response" order-by="respOrder">
			<key column="id_step" />
			<one-to-many class="org.beeblos.bpm.core.model.WStepResponseDef" />
		</set>

		
		<set cascade="all" name="rolesRelated" sort="unsorted"
			table="w_step_role"  lazy="false" >
			<key column="id_step" />
			<composite-element class="org.beeblos.bpm.core.model.WStepRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" lazy="false"/>
				<property name="admin"	type="java.lang.Boolean">
					<column name="admin">
						<comment>indicates this role is an admin role for this process</comment>
					</column>
				</property>
		        <property name="idObject" type="java.lang.Integer">
		            <column name="id_object" />
		        </property>
		        <property name="idObjectType" type="java.lang.String">
		            <column name="id_object_type" />
		        </property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>
		
		<set cascade="all" name="usersRelated" sort="unsorted"
			table="w_step_user" lazy="false" >
			<key column="id_step" />
			<composite-element class="org.beeblos.bpm.core.model.WStepUser">
				<many-to-one name="user" class="org.beeblos.bpm.core.model.WUserDef"
					column="id_user" lazy="false" />
				<property name="admin"	type="java.lang.Boolean">
					<column name="admin">
						<comment>indicates this role is an admin role for this step</comment>
					</column>
				</property>
		        <property name="idObject" type="java.lang.Integer">
		            <column name="id_object" />
		        </property>
		        <property name="idObjectType" type="java.lang.String">
		            <column name="id_object_type" />
		        </property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>	
		
		
	</class>
	<class name="org.beeblos.bpm.core.model.WStepResponseDef" table="w_step_response_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<!-- el id del step está en esta tabla pero no va aquí, va en la relacion 
			unidir definida en wstepdef -->
		<property generated="never" lazy="false" name="respOrder"
			type="java.lang.Integer">
			<column name="respOrder">
				<comment>EL ORDEN PARA QUE PODAMOS ORDENAR LAS RESPUESTAS POR ESTE
					ORDEN EN VEZ DEL ALFABETICO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="30" name="name"  />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
	</class>

	<class name="org.beeblos.bpm.core.model.WStepSequenceDef" table="w_step_sequence_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="enabled"
			type="java.lang.Boolean">
			<column name="enabled" />
		</property>
		<property generated="never" lazy="false" name="afterAll"
			type="java.lang.Boolean">
			<column name="after_all" />
		</property>
		<property generated="never" lazy="false" name="validResponses"
			type="string">
			<column length="100" name="valid_responses">
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="rules" type="string">
			<column name="rules"  />
		</property>

<!-- 		<property generated="never" lazy="false" name="version" -->
<!-- 			type="java.lang.Integer"> -->
<!-- 			<column name="version" /> -->
<!-- 		</property> -->
		<property generated="never" lazy="false" name="name"
			type="string">
			<column length="255" name="name"/>
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="id_origin_step" lazy="false" name="fromStep" />
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef"
			column="id_dest_step" lazy="false" name="toStep" />
		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="process_id" lazy="false" name="process" />
	</class>
	<class name="org.beeblos.bpm.core.model.WTimeUnit" table="w_time_unit">
		<id name="id" type="java.lang.Integer">
			<column name="id" unique="true" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="30" name="name"  />
		</property>
		<property generated="never" lazy="false" name="conversion"
			type="java.lang.Integer">
			<column name="conversion" >
				<comment>the value to convert into seconds</comment>
			</column>
		</property>
	</class>

    <class name="org.beeblos.bpm.core.model.WProcessStatus" table="w_process_status">
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
        <property name="name" type="string">
            <column name="name" length="30"  />
        </property>
    </class>
    	
	<class name="org.beeblos.bpm.core.model.WProcessWork" table="w_process_work">
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
<!--         <version name="version" type="java.lang.Integer"> -->
<!--             <column name="version" > -->
<!--                 <comment>version</comment> -->
<!--             </column> -->
<!--         </version> -->
        <property name="startingTime" type="timestamp">
            <column name="starting_time" length="0" >
                <comment>the work was started at this date and time (UTC TIME)</comment>
            </column>
        </property>
        <property name="startingType" type="java.lang.Integer">
            <column name="starting_type">
                <comment>indicates ir start is manual (human) or automated</comment>
            </column>
        </property>
        <property name="endTime" type="timestamp">
            <column name="end_time" length="0">
                <comment>loads when work finish o forced end</comment>
            </column>
        </property>
        <property name="reference" type="string">
            <column name="reference" length="20" >
                <comment>user friendly reference to identificate this work</comment>
            </column>
        </property>
        <property name="comments" type="string">
            <column name="comments" length="1000">
                <comment>user friendly comments to identificate this work</comment>
            </column>
        </property>
        <property name="insertUser" type="java.lang.Integer">
            <column name="insert_user"  />
        </property>
        <property name="insertDate" type="timestamp">
            <column name="insert_date" length="0" not-null="true" />
        </property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user"  />
        </property>
        <property name="modDate" type="timestamp">
            <column name="mod_date" length="0"  />
        </property>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object" >
				<comment>ID DEL OBJETO QUE ESTA EN ESTE PASO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column length="100" name="id_object_type" >
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>

		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="id_process" lazy="false" name="process" fetch="join"/>
        <many-to-one name="status" class="org.beeblos.bpm.core.model.WProcessStatus" fetch="join">
            <column name="id_status" >
                <comment>1-processing / 2 - paused / 3 - finished / 4 - foced end / 5 - others ( ver tabla w_status_type)</comment>
            </column>
        </many-to-one>        
    </class>
	
	<class name="org.beeblos.bpm.core.model.WStepWork" table="w_step_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
<!-- 		<property generated="never" lazy="false" name="version" -->
<!-- 			type="java.lang.Integer"> -->
<!-- 			<column name="version" /> -->
<!-- 		</property> -->

		<property generated="never" lazy="false" name="arrivingDate"
			type="timestamp">
			<column length="0" name="arriving_date" >
				<comment>fecha/hora a la que llego</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="openedDate"
			type="timestamp">
			<column length="0" name="opened_date" not-null="false">
				<comment>fecha hora a la que se abrio</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="decidedDate"
			type="timestamp">
			<column length="0" name="decided_date" not-null="false">
				<comment>fecha/hora a la que se resolvio</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="response"
			type="string">
			<column length="20" name="response"/>
		</property>

		<property generated="never" lazy="false" name="nextStepInstructions"
			type="string">
			<column length="255" name="instructions"/>
		</property>

		<property generated="never" lazy="false" name="assignedTime"
			type="java.lang.Integer">
			<column name="assigned_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineDate"
			type="date">
			<column name="deadline_date">
				<comment>Si tiene una fecha limite</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="deadlineTime"
			type="time">
			<column name="deadline_time">
				<comment>Si tiene una hora de resolucion limite (en la fecha
					indicada arriba)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reminderTime"
			type="java.lang.Integer">
			<column name="reminder_time">
				<comment>CANTIDAD DE TIEMPO ASIGNADA PARA SU RESOLUCION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="adminProcess"
			type="boolean">
			<column name="admin_process" >
				<comment>si lo procesa el administrador se prende a true</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="locked"
			type="java.lang.Boolean">
			<column name="locked">
				<comment>INDICA SI EL PASO ESTA BLOQUEADO ( ALGUIEN LO ESTÁ
					PROCESANDO ... )</comment>
			</column>
		</property>

		<property generated="never" lazy="false" name="lockedSince"
			type="java.util.Date">
			<column length="0" name="locked_since" />
		</property>
		
		<!-- ESTA TABLA NO TIENE EL INSERT DATE PORQUE ESE DATO ESTÁ EN EL CAMPO 
			arriving_date <property generated="never" lazy="false" name="insertDate" 
			type="date" > <column length="0" name="insert_date" /> </property> -->
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date" />
		</property>
		<property generated="never" lazy="false" name="sentBack"
			type="java.lang.Boolean">
			<column name="sent_back">
				<comment>indica que el paso corriente es un paso que ha sido devuelto</comment>
			</column>
		</property>	
		<property generated="never" lazy="false" name="myNotes"
			type="java.lang.Boolean">
			<column name="my_notes">
				<comment>indica que las notas guardadas en userNotes son personales para el propio usuario</comment>
			</column>
		</property>
		
		<property generated="never" lazy="false" name="sendUserNotesToNextStep"
			type="java.lang.Boolean">
			<column name="send_user_notes_to_next_step">
				<comment>indica que va mandar las user notes como instrucciones al proximo paso</comment>
			</column>
		</property>				
		
		<property generated="never" lazy="false" name="userInstructions"
			type="string">
			<column length="65535" name="user_instructions">
				<comment>Instrucciones que envio el usuario del paso anterior para el paso corriente (runtime)</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="userNotes"
			type="string">
			<column length="65535" name="user_notes">
				<comment>Notas del usuario que ejecuta el paso corriente o instrucciones para el paso próximo</comment>
			</column>
		</property>		
		
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="insert_user" lazy="false" name="insertUser" fetch="join"/>
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="locked_by" lazy="false" name="lockedBy" fetch="join"/>

		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="opener_user" lazy="false" name="openerUser" fetch="join"/>
		<many-to-one class="org.beeblos.bpm.core.model.WUserDef"
			column="performer_user_id" lazy="false" name="performer" fetch="join"/>

        <many-to-one name="wProcessWork" class="org.beeblos.bpm.core.model.WProcessWork" fetch="join" lazy="false">
            <column name="id_work" >
                <comment>Indica el id dado al work lanzado del que depende este paso</comment>
            </column>
        </many-to-one>			
		
		<set cascade="all" lazy="false" name="assignedTo" sort="unsorted">
			<key column="id_step_work" />
			<one-to-many class="org.beeblos.bpm.core.model.WStepWorkAssignment" />
		</set>
		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="id_process" lazy="false" name="process" fetch="join"/>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef" lazy="false"
			name="previousStep" fetch="join">
			<column name="id_previous_step" not-null="false">
				<comment>PASO QUE LO ENVIO AQUI // si está en null quiere decir que
					es el de inicio o que fué inyectado aquí ...</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef" lazy="false"
			name="currentStep" fetch="join">
			<column name="id_current_step" >
				<comment>PASO ACTUAL DEL OBJETO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="timeUnit" fetch="join">
			<column name="id_time_unit" >
				<comment>UNIDAD DE MEDIDA DE TIEMPO</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WTimeUnit"
			lazy="false" name="reminderTimeUnit" fetch="join">
			<column name="reminder_id_time_unit">
				<comment>UNIDAD DE MEDIDA DE TIEMPO PARA EL DEADLINE</comment>
			</column>
		</many-to-one>
	</class>
	<class name="org.beeblos.bpm.core.model.WStepWorkAssignment" table="w_step_work_assignment">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="idAssignedRole"
			type="java.lang.Integer">
			<column name="id_role">
				<comment>ROL AL QUE ESTA ASIGNADO EL STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idAssignedUser"
			type="java.lang.Integer">
			<column  name="id_user">
				<comment>USUARIO AL QUE ESTA ASIGNADO EL STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="active"
			type="java.lang.Boolean">
			<column name="active">
				<comment>SI ESTA ACTIVA ESTA REGLA (PUEDE ESTAR ACTIVA EN UN MOMENTO Y LUEGO SI EL WORKFLOW DA UNA VUELTA PODRIA QUEDAR OBSOLETA O NO APLICAR ...)</comment>
			</column>
		</property>		
		<property generated="never" lazy="false" name="reassigned"
			type="java.lang.Boolean">
			<column name="reassigned">
				<comment>SI LO REASIGNAN SE PRENDE ESTE FLAG QUE INDICARA ESO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reassignedBy"
			type="java.lang.Integer">
			<column  name="reassigned_by">
				<comment>USUARIO QUE REASIGNO ESTE STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="reassignedDate"
			type="timestamp">
			<column length="0" name="reassigned_date" >
				<comment>TIMESTAMP CON LA REASIGNACION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignment"
			type="java.lang.Boolean">
			<column name="from_reassignment">
				<comment>SI VIENE DE UN PASO REASIGNADO SE INDICA AQUI.</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignmentBy"
			type="java.lang.Integer">
			<column name="from_reassignment_by">
				<comment>USUARIO QUE REASIGNO ESTE STEP</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="fromReassignmentDate"
			type="timestamp">
			<column length="0" name="from_reassignment_date" >
				<comment>TIMESTAMP CON LA REASIGNACION</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" />
		</property>
		<property generated="never" lazy="false" name="modUser"
			type="java.lang.Integer">
			<column name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date" />
		</property>
	</class>
	
	<class name="org.beeblos.bpm.core.model.WUserDef" table="w_user_def">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="name" type="string">
			<column length="60" name="name"  />
		</property>
		<property generated="never" lazy="false" name="login" type="string">
			<column length="20" name="login" />
		</property>
		<property generated="never" lazy="false" name="email" type="string">
			<column length="200" name="email" />
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column name="insert_user"  />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="true" />
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>

		<set cascade="all" name="rolesRelated" sort="unsorted"
			table="w_user_role"  lazy="false" >
			<key column="id_user" />
			<composite-element class="org.beeblos.bpm.core.model.WUserRole">
				<many-to-one name="role" class="org.beeblos.bpm.core.model.WRoleDef"
					column="id_role" cascade="none" lazy="false" />
				<property name="active"	type="java.lang.Boolean">
					<column name="active"/>
				</property>
		        <property name="insertUser" type="java.lang.Integer">
		            <column name="insert_user" />
		        </property>
		        <property name="insertDate" type="timestamp">
		            <column name="insert_date" length="0" not-null="true" />
		        </property>
			</composite-element>
		</set>

	</class>
	
	<class name="org.beeblos.bpm.core.model.WUseridmapper" table="w_useridmapper">
		<id name="idUser" type="java.lang.Integer">
			<column name="id_user" />
			<generator class="foreign">
				<param name="property">WUserDef</param>
			</generator>
		</id>

		<property generated="never" lazy="false" name="type" type="string">
			<column length="75" name="type_" />
		</property>
		<property generated="never" lazy="false" name="description"
			type="string">
			<column length="75" name="description" />
		</property>
		<property generated="never" lazy="false" name="externalUserId"
			type="string">
			<column length="75" name="external_user_id" />
		</property>

	</class>
	
	<class name="org.beeblos.bpm.core.model.WTrackWork" table="w_track_work">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>
		<property generated="never" lazy="false" name="idObject"
			type="java.lang.Integer">
			<column name="id_object" >
				<comment>ID DEL OBJETO QUE ESTA EN ESTE PASO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="idObjectType"
			type="string">
			<column length="100" name="id_object_type" >
				<comment>CLASE A LA QUE PERTENECE EL OBJETO</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="version"
			type="java.lang.Integer">
			<column name="version" />
		</property>
		<property generated="never" lazy="false" name="comments"
			type="string">
			<column length="100" name="comments">
				<comment>String reference about the step</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="adminProcess"
			type="boolean">
			<column name="admin_process" >
				<comment>si lo procesa el administrador se prende a true</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="response"
			type="string">
			<column length="20" name="response" />
		</property>
		<property generated="never" lazy="false" name="insertDate"
			type="timestamp">
			<column length="0" name="insert_date" not-null="false">
				<comment>fecha hora a la que se inserto</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="insertUser"
			type="java.lang.Integer">
			<column  name="insert_user">
				<comment>usuario que lo inserto</comment>
			</column>
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column length="0" name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
		<property generated="never" lazy="false" name="userNotes"
			type="string">
			<column length="65535" name="user_notes">
				<comment>Notas del usuario que ejecuta el paso corriente o instrucciones para el paso próximo</comment>
			</column>
		</property>		
		
		<many-to-one class="org.beeblos.bpm.core.model.WProcessDef"
			column="id_process" lazy="false" name="process" />
			
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef" lazy="false"
			name="previousStep">
			<column name="id_previous_step" not-null="false">
				<comment>PASO QUE LO ENVIO AQUI // si está en null quiere decir que
					es el de inicio o que fué inyectado aquí ...</comment>
			</column>
		</many-to-one>
		<many-to-one class="org.beeblos.bpm.core.model.WStepDef" lazy="false"
			name="currentStep">
			<column name="id_current_step" >
				<comment>PASO ACTUAL DEL OBJETO</comment>
			</column>
		</many-to-one>
	</class>
	
	<class name="org.beeblos.bpm.core.model.EnvType" table="env_type">
		<id name="id" type="java.lang.Short">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="name" type="string">
			<column length="100" name="name"/>
		</property>
		<property generated="never" lazy="false" name="color" type="string">
			<column length="100" name="color"/>
		</property>

		<property generated="never" lazy="false" name="addDate" type="timestamp">
			<column name="add_date" />
		</property>
		<property generated="never" lazy="false" name="addUser" type="java.lang.Integer">
			<column name="add_user"/>
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>

	</class>

	<class name="org.beeblos.bpm.core.model.Environment" table="environment">
		<id name="id" type="java.lang.Integer">
			<column name="id" />
			<generator class="identity" />
		</id>

		<property generated="never" lazy="false" name="name" type="string">
			<column length="100" name="name"/>
		</property>
		<property generated="never" lazy="false" name="comments" type="string">
			<column length="255" name="comments"/>
		</property>

		<property generated="never" lazy="false" name="addDate" type="timestamp">
			<column name="add_date" />
		</property>
		<property generated="never" lazy="false" name="addUser" type="java.lang.Integer">
			<column name="add_user"/>
		</property>
		<property generated="never" lazy="false" name="modDate" type="timestamp">
			<column name="mod_date"  />
		</property>
		<property generated="never" lazy="false" name="modUser" type="java.lang.Integer">
			<column  name="mod_user" />
		</property>
		
		<many-to-one class="org.beeblos.bpm.core.model.EnvType"
			column="env_type_id" lazy="false" name="envType" 
			cascade="none"/>

	</class>
	
	<class name="org.beeblos.bpm.core.model.WProcessDataField" table="w_process_data_field">
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
		
		<property name="processHeadId" type="java.lang.Integer">
			<column name="process_head_id" />
		</property>

        
        <many-to-one name="dataType" class="org.beeblos.bpm.core.model.WDataType" fetch="join" lazy="false">
            <column name="data_type_id" not-null="true" />
        </many-to-one>

         <property name="name" type="string">
            <column name="name" length="120" />
        </property>
        <property name="required" type="java.lang.Boolean">
            <column name="required" />
        </property>
         <property name="comments" type="string">
            <column name="comments" />
        </property>
        <property name="active" type="java.lang.Boolean">
            <column name="active" />
        </property>
		<property name="length" type="java.lang.Integer">
			<column name="length"/>
		</property>
        <property name="insertDate" type="timestamp">
            <column name="insert_date" length="0" not-null="true" />
        </property>
        <property name="insertUser" type="java.lang.Integer">
            <column name="insert_user" not-null="true" />
        </property>
        <property name="modDate" type="timestamp">
            <column name="mod_date" length="0" not-null="true" />
        </property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user" not-null="true" />
        </property>
    </class>
	
   <class name="org.beeblos.bpm.core.model.WDataType" table="w_data_type">
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
        <property name="name" type="string">
            <column name="name" />
        </property>
        <property name="maxLength" type="java.lang.Integer">
            <column name="max_length" />
        </property>
        <property name="showName" type="string">
            <column name="show_name" />
        </property>
        <property name="sqlType" type="java.lang.Integer">
            <column name="sql_type" not-null="true" />
        </property>
        <property name="sqlTypeName" type="string">
            <column name="sql_type_name" length="45" not-null="true" />
        </property>        
        <property name="insertDate" type="timestamp">
            <column name="insert_date" length="0" not-null="true" />
        </property>
        <property name="insertUser" type="java.lang.Integer">
            <column name="insert_user" not-null="true" />
        </property>
        <property name="modDate" type="timestamp">
            <column name="mod_date" length="0" not-null="true" />
        </property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user" not-null="true" />
        </property>

    </class>	
    <class name="org.beeblos.bpm.core.model.SystemObject" table="w_system_object">
        <id name="id" type="java.lang.Integer">
            <column name="id" />
            <generator class="identity" />
        </id>
        <property name="name" type="string">
            <column name="name" length="45" />
        </property>
        <property name="objectClass" type="string">
            <column name="object_class" not-null="true" />
        </property>
        <property name="hierarchy" type="java.lang.Integer">
            <column name="hierarchy" not-null="true">
                <comment>Menor numero implica mas importante</comment>
            </column>
        </property>
        <property name="comments" type="string">
            <column name="comments" />
        </property>
        <property name="addDate" type="timestamp">
            <column name="add_date" length="0" not-null="true" />
        </property>
        <property name="addUser" type="java.lang.Integer">
            <column name="add_user" />
        </property>
        <property name="modDate" type="timestamp">
            <column name="mod_date" length="0" not-null="true" />
        </property>
        <property name="modUser" type="java.lang.Integer">
            <column name="mod_user" />
        </property>

    </class>    
    
</hibernate-mapping>