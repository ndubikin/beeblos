<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="workfloweditorTemplate.xhtml">
	<ui:define name="title">Workflow Editor</ui:define>
	<ui:define name="current">workflowEditor</ui:define>
	<ui:define name="body">

	<script type="text/javascript" src="Index.js"></script>

	<style type="text/css" media="screen">
		div.base {
			position: absolute;
			overflow: hidden;
			white-space: nowrap;
			font-family: Arial;
			font-size: 8pt;
		}
		div.base#graph {
			border-style: solid;
			border-color: #F2F2F2;
			border-width: 1px;
			background: url('images/grid.gif');
		}
	</style>
	<script type="text/javascript">
		mxBasePath = '../../src';
	</script>
	<script type="text/javascript" src="../../src/js/mxClient.js"></script>
	<script type="text/javascript" src="js/mxApplication.js"></script>
<!-- PRUEBAS
	<script type="text/javascript" src="js/Actions.js"></script>
 -->
	<script type="text/javascript">
		mxConstants.DEFAULT_HOTSPOT = 1;	
		
		// Enables guides
		mxGraphHandler.prototype.guidesEnabled = true;
		
	    // Alt disables guides
	    mxGuide.prototype.isEnabledForEvent = function(evt)
	    {
	    	return !mxEvent.isAltDown(evt);
	    };
		
		// Enables snapping waypoints to terminals
		mxEdgeHandler.prototype.snapToTerminals = true;
		
		window.onbeforeunload = function() { return mxResources.get('changesLost'); };

		var doc = mxUtils.parseXML("<mxGraphModel><root><Workflow label="MyWorkflow" description="" href="" id="0"><mxCell/></Workflow><Layer label="Default Layer" id="1"><mxCell parent="0"/></Layer><Swimlane label="Container" description="" href="" id="2"><mxCell style="swimlane;fillColor=#83027F;startSize=28" vertex="1" connectable="0" parent="1"><mxGeometry x="320" y="270" width="420" height="170" as="geometry"><mxRectangle x="320" y="270" width="20" height="80" as="alternateBounds"/></mxGeometry></mxCell></Swimlane><Task label="Yo" description="" href="" id="3"><mxCell vertex="1" parent="2"><mxGeometry x="90" y="69" width="72" height="32" as="geometry"/></mxCell></Task><Task label="Tu" description="" href="" id="4"><mxCell vertex="1" parent="2"><mxGeometry x="290" y="69" width="72" height="32" as="geometry"/></mxCell></Task><Edge label="Hola que ase?" description="" id="5"><mxCell edge="1" parent="2" source="3" target="4"><mxGeometry relative="1" as="geometry"/></mxCell></Edge></root></mxGraphModel>");
		var node = doc.documentElement;		
		editor.readGraphModel(node);

	</script>

	<table id="splash" width="100%" height="100%"
		style="background:white;position:absolute;top:0px;left:0px;z-index:4;">
		<tr>
			<td align="center" valign="middle">
				<img src="images/loading.gif"></img>
			</td>
		</tr>
	</table>
	<div id="graph" class="base">
		<!-- Graph Here -->
	</div>
	<div id="status" class="base" align="right">
		<!-- Status Here -->
	</div>

</ui:define>
</ui:composition>

</html>