<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

	<c:if test="${empty action}">
		<c:set var="action" value="" />
	</c:if>

	<h:form>
	
<a4j:jsFunction name="onsubmitSearchRole" action="#{wStepDefFormBean.updateRolesRelated}" reRender="w_step_def_related_roles_form${action}">
	 <a4j:actionparam name="param1" assignTo="#{wStepDefFormBean.strRoleList}"  />
</a4j:jsFunction>		
	
		<a4j:commandLink id="inserta_rol"
			title="#{msf.label_add_new_global_role_to_project}"
			style="margin-left: 18px; margin-bottom: 50px; border:0; border-width:0; width:0; height:0; outline:0;"
			tabindex="-1"
			oncomplete="javascript:Richfaces.showModalPanel('mpSearchRole', {titleParam: '#{msg.label_roles_involved_in_this_step}'});"
			reRender="mpSearchRole"
			rendered="#{contextoSeguridad.permiteCualquiera['530']}">
			<h:graphicImage id="imgInsertar" value="/images/insertar.png" style="border:0;" />
	 		<a4j:actionparam name="strRole" value="#{wStepDefFormBean.strRoleList}" assignTo="#{userAndRoleSelectorBean.strRoleString}" />
		</a4j:commandLink>
				
	</h:form>

</ui:composition>