<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition>


<script type="text/javascript">

	function confirmar() {
	  var txtConfirm = String.fromCharCode(191)+"Est"+String.fromCharCode(225)+" seguro que desea eliminar el Usuario seleccionado"+String.fromCharCode(63);
		if (confirm(txtConfirm)) {
			return true;
		}
		return false;
	}
	
	
	
	function actualizarUsuario(idUsuario,nombres,apellidos,email,usuarioLogin,admon,suLectura,password,idDepto) {
	  		
			var txtNombres = document.getElementById("frmUsuarioModif:hddNombres");
			var txtApellidos = document.getElementById("frmUsuarioModif:hddApellidos");
			var txtEmail = document.getElementById("frmUsuarioModif:hddEmail");
			var txtLoginUser = document.getElementById("frmUsuarioModif:hddUsuarioLogin");
			var txtIdDepto = document.getElementById("frmUsuarioModif:hddIdDepto");
			var txtAdmon = document.getElementById("frmUsuarioModif:hddAdmon");
			var txtSuLectura = document.getElementById("frmUsuarioModif:hddSuLectura");
			var txtIdUsuario = document.getElementById("frmUsuarioModif:hddIdUsuario");
			var txtIdUser = document.getElementById("frmMiUsuario:hddIdUser");
			
			var modificarUsuario = document.getElementById("frmUsuarioModif:modificarUsuario");
					
			txtNombres.value = nombres;
			txtApellidos.value = apellidos;
			txtEmail.value = email;
			txtLoginUser.value = usuarioLogin;
			txtAdmon.value=admon;
			txtSuLectura.value=suLectura;

			txtIdDepto.value=idDepto;
			txtIdUsuario.value=idUsuario;
			txtIdUser.value=idUsuario;
			
			modificarUsuario.onclick();
		
	}
	
</script>

	<style type="text/css">
	.rich-message-label {
		color: red;
	}
	</style>


	<f:loadBundle basename="org.beeblos.bpm.wc.taglib.util.messages" var="msg" />

	<body>

	<center><!-- ********************************* Configuracion MiUsuario ********************    -->

	<rich:panel style="width:100%" >
		
	<h:form id="frmMiUsuario">
		
		<h:inputHidden id="hddIdUsuario" value="#{miUsuarioBean.idUsuario}"/>

		<h:panelGrid columns="2">
	
			<h:outputText value="#{msg.label_login_user}" styleClass="labelForm" />
			<h:outputText id="loginuser" value="#{miUsuarioBean.currentUsuario.usuarioLogin}"/>
				
			<h:outputText value="#{msg.label_name}" styleClass="labelForm" />
			<h:inputText id="nombres" value="#{miUsuarioBean.currentUsuario.nombres}"
				required="false"  style="width:300px"/>
				
			<h:outputText value="#{msg.label_last_name}" styleClass="labelForm" />
			<h:inputText id="apellidos" value="#{miUsuarioBean.currentUsuario.apellidos}"
				required="false"  style="width:300px"/>
	
			<rich:spacer height="10" /><rich:spacer height="10" />
				
			<h:outputText value="#{msg.label_password}" styleClass="labelForm"/>
			<h:panelGroup>
				<h:inputSecret id="pass" value="#{miUsuarioBean.password}" 
					style="width:200px">
					<f:validateLength minimum="5" maximum="12" />
				</h:inputSecret>
				<rich:message for="pass" />
			</h:panelGroup>
				
			<h:outputText value="#{msg.label_confirm_password}" styleClass="labelForm"/>
			<h:panelGroup>
				<h:inputSecret id="passConfirmation" value="#{miUsuarioBean.passwordConfirmation}" 
					style="width:200px">
					<f:validateLength minimum="5" maximum="12" />
				</h:inputSecret>
				<rich:message for="passConfirmation" />
			</h:panelGroup>
				
			<rich:spacer height="10" /><rich:spacer height="10" />
			
			<h:inputHidden id="hddIdUser" value="#{miUsuarioBean.idUsuario}"/>
				
			<h:panelGrid columns="2">	
				<h:commandButton id="btnGuardar" value="#{msg.label_save}"
					actionListener="#{miUsuarioBean.guardar}" />
				<h:commandButton id="btnCancelar" value="#{msg.label_cancel}"
					actionListener="#{miUsuarioBean.reset}" />
			</h:panelGrid>

		</h:panelGrid>
		
		<rich:spacer height="10" />

	</h:form>
	</rich:panel>
	 
	</center>
	</body>


	</ui:composition>
</html>