<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

	<h:form id="w_process_def_external_method_list_form">

		<div class="fieldset_block_info_noBorder_noPadding" >
			<a4j:commandLink value="#{msg.label_add} #{msg.label_external_method}"
				styleClass="command_link_form"
				actionListener="#{wProcessDefFormBean.initializeExternalMethod(null)}"
				reRender="w_process_def_external_method_form"/>
		</div>
		
		<div class="fieldset_block_info div_line_wo_border_nomenu" >
	
			<label class="left_column_20 label_form_bold">
				#{msg.label_class_name}
			</label>
			<label class="left_column_15 label_form_bold" >
				#{msg.label_method_name}
			</label>
			<label class="left_column_05 label_form_bold" >
				#{msg.label_type}
			</label>
			<label class="left_column_15 label_form_bold" >
				#{msg.label_logical_condition_execution}
			</label>
			<label class="left_column_15 label_form_bold" >
				#{msg.label_tested}
			</label>
		</div>	

		<div class="fieldset_block_info_noBorder_noPadding">
		
			<a4j:repeat value="#{wProcessDefFormBean.currentWProcessDef.process.externalMethodAsList}" 
				var="externalMethod" rowKeyVar="rowIndex">
				
				<div class="div_line_wo_border_nomenu">
	
					<h:outputText value="#{externalMethod.classname}" 
						styleClass="left_column_20 label_form"
						rendered="#{externalMethod.classname ne null and externalMethod.classname ne ''}" />
					<h:outputText value="&#160;" styleClass="left_column_20"
						rendered="#{externalMethod.classname eq null or externalMethod.classname eq ''}" />

					<h:outputText value="#{externalMethod.methodname}" 
						styleClass="left_column_15 label_form"
						rendered="#{externalMethod.methodname ne null and externalMethod.methodname ne ''}" />
					<h:outputText value="&#160;" styleClass="left_column_15"
						rendered="#{externalMethod.methodname eq null or externalMethod.methodname eq ''}" />

					<h:outputText value="#{externalMethod.type}" 
						styleClass="left_column_05 label_form"
						rendered="#{externalMethod.type ne null and externalMethod.type ne ''}" />
					<h:outputText value="&#160;" styleClass="left_column_05"
						rendered="#{externalMethod.type eq null or externalMethod.type eq ''}" />

					<h:outputText value="#{externalMethod.logicalConditionExecution}" 
						styleClass="left_column_15 label_form"
						rendered="#{externalMethod.logicalConditionExecution ne null and externalMethod.logicalConditionExecution ne ''}" />
					<h:outputText value="&#160;" styleClass="left_column_15"
						rendered="#{externalMethod.logicalConditionExecution eq null or externalMethod.logicalConditionExecution eq ''}" />

					<h:outputText value="#{externalMethod.tested}" 
						styleClass="left_column_15 label_form" 
						rendered="#{externalMethod.tested ne null and externalMethod.tested ne ''}" />
					<h:outputText value="&#160;" styleClass="left_column_15"
						rendered="#{externalMethod.tested eq null or externalMethod.tested eq ''}" />

						<h:graphicImage value="/images/wheel.png" styleClass="margin_left_10px">
						<rich:componentControl event="onclick"
							for="external_method_menu" operation="show"/>
						</h:graphicImage>

				</div>				
				
				<rich:contextMenu style="text-align:left;" event="onclick"
					id="external_method_menu" submitMode="ajax">

					<rich:menuItem 
						actionListener="#{wProcessDefFormBean.initializeExternalMethod(externalMethod.id)}"
						reRender="w_process_def_external_method_form">
                		<b> #{msg.label_edit_external_method}</b> (#{externalMethod.classname})
					</rich:menuItem>
					
				</rich:contextMenu>

			</a4j:repeat>
			
		</div>
	</h:form>
	
</ui:composition>