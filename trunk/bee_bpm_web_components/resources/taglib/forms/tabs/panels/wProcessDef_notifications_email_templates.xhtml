<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core">

	<h:form>

		<a4j:jsFunction name="refreshSaveButton" ajaxSingle="true" actionListener="#{wProcessDefFormBean.changeReadOnlyToFalse}" 
				reRender="cancel_button, save_button" />

	</h:form>

	<h:form id="w_step_def_notifications_form">

		<h:panelGrid width="98%" columns="2" style=" width : 960px; margin-left: 16px;"
				columnClasses="colStyle480px, colStyle480px">

			<rich:spacer height="10" />
			<rich:spacer height="10" />

			<h:outputText value="#{msg.label_worker}" styleClass="title_style" />
			<h:outputText value="#{msg.label_tracker}" styleClass="title_style" />
	
			<rich:spacer height="10" />
			<rich:spacer height="10" />

			<h:panelGroup>

				<h:panelGrid width="50%" columns="2" style=" width : 480px;"
					columnClasses="colStyle200px, colStyle250px">

					<h:outputText value="#{msg.label_arriving_notice_template}:" styleClass="firstLeftText" />
					<h:outputText value="#{wProcessDefFormBean.arrivingUserNoticeTemplate.name}" style="font-weight: bold;padding: 4px;" 
						rendered="#{wProcessDefFormBean.readOnly and wProcessDefFormBean.arrivingUserNoticeTemplate.id != null}"/>
					<h:outputText value="None" style="font-weight: bold;padding: 4px;" 
						rendered="#{wProcessDefFormBean.readOnly and wProcessDefFormBean.arrivingUserNoticeTemplate.id == null}"/>
					<h:selectOneMenu id="arriving_user_template" 
						value="#{wProcessDefFormBean.arrivingUserNoticeTemplate.id}"
						style="width:200px; font-size:12px;	padding: 4px;" 
						rendered="#{!wProcessDefFormBean.readOnly}">
						<f:selectItems
							value="#{wProcessDefFormBean.arrivingNoticeEmailTemplatesCombo}" />
					</h:selectOneMenu>
								
					<rich:spacer height="10" />
					<rich:spacer height="10" />
			
				</h:panelGrid>
			</h:panelGroup>

			<h:panelGroup>
				<h:panelGrid width="50%" columns="2" style=" width : 480px;"
					columnClasses="colStyle200px, colStyle250px">
		
					<h:outputText value="#{msg.label_arriving_notice_template}:" styleClass="firstLeftText" />
					<h:outputText value="#{wProcessDefFormBean.arrivingAdminNoticeTemplate.name}" style="font-weight: bold;padding: 4px;" 
						rendered="#{wProcessDefFormBean.readOnly and wProcessDefFormBean.arrivingAdminNoticeTemplate.id != null}"/>
					<h:outputText value="None" style="font-weight: bold;padding: 4px;" 
						rendered="#{wProcessDefFormBean.readOnly and wProcessDefFormBean.arrivingAdminNoticeTemplate.id == null}"/>
					<h:selectOneMenu id="arriving_admin_template" 
						value="#{wProcessDefFormBean.arrivingAdminNoticeTemplate.id}"
						style="width:200px; font-size:12px;	padding: 4px;" 
						rendered="#{!wProcessDefFormBean.readOnly}">
						<f:selectItems
							value="#{wProcessDefFormBean.arrivingNoticeEmailTemplatesCombo}" />
					</h:selectOneMenu>
								
					<rich:spacer height="10" />
					<rich:spacer height="10" />
		
				</h:panelGrid>
			</h:panelGroup>

			<rich:spacer height="10" />
			<rich:spacer height="10" />

			<h:panelGroup>
				<a4j:commandButton id="edit_button" value="#{msg.label_edit}"
					actionListener="#{wProcessDefFormBean.changeReadOnlyToFalse}"
					reRender="w_step_def_notifications_form"
					style="width:80px; margin-right:20px; " 
					rendered="#{wProcessDefFormBean.readOnly}"/>
			
				<a4j:commandButton id="cancel_button" value="#{msg.label_cancel}"
					action="#{wProcessDefFormBean.cancel}"
					reRender="w_step_def_notifications_form"
					style="width:80px; margin-right:20px; " 
					rendered="#{!wProcessDefFormBean.readOnly}"/>

				<a4j:commandButton id="update_button" value="#{msg.label_update}"
					actionListener="#{wProcessDefFormBean.update}"
					reRender="w_step_def_notifications_form"
					style="margin-right: 0px; width:120px; " 
					rendered="#{!wProcessDefFormBean.readOnly and (wProcessDefFormBean.currentId != null) and (wProcessDefFormBean.currentId != 0)}"/>

				<h:commandButton id="save_continue_button" value="#{msg.label_save}"
					actionListener="#{wProcessDefFormBean.save_continue}"
					reRender="w_step_def_notifications_form"
					style="margin-right: 0px; width:120px; " 
					rendered="#{!wProcessDefFormBean.readOnly and ((wProcessDefFormBean.currentId == null) or (wProcessDefFormBean.currentId == 0))}"/>

			</h:panelGroup>
			<rich:spacer height="10" />
			
		</h:panelGrid>

	</h:form>

</ui:composition>